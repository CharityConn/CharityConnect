<ts:token xmlns:ethereum="urn:ethereum:constantinople" xmlns:ts="http://tokenscript.org/2024/01/tokenscript" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="charityConnect" xsi:schemaLocation="http://tokenscript.org/2024/01/tokenscript https://www.tokenscript.org/schemas/2024-01/tokenscript.xsd">
	<ts:label>
		<ts:plurals xml:lang="en">
			<ts:string quantity="one">CharityConnect Token</ts:string>
			<ts:string quantity="other">CharityConnect Tokens</ts:string>
		</ts:plurals>
	</ts:label>
	<ts:meta>
		<ts:description xml:lang="en">This is your Charity Membership Card, represented as an ERC-721 NFT.</ts:description>
        
		<ts:aboutUrl xml:lang="en">https://d31vrfdo6b6g17.cloudfront.net/</ts:aboutUrl>
		<ts:iconUrl xml:lang="en">https://d31vrfdo6b6g17.cloudfront.net/assets/icon/cc/charity-connect-card.png</ts:iconUrl>
		
		
	</ts:meta>
    
    
	<ts:contract interface="erc721" name="Token">
		<ts:address network="84532">0x40dc7D0B5E11Ee259314C548a238b9c909A4B721</ts:address>
	</ts:contract>
	<ts:contract interface="erc20" name="Points">
		<ts:address network="84532">0x6E651E97D10D330b761b1759DA88616c4764093d</ts:address>
	</ts:contract>
	<ts:contract name="DonationManager">
		<ts:address network="84532">0x87Aa0A8d5E560F413Eb7C1E860EC3741Ad5cb7DD</ts:address>

        <ts:abi>
            
            [
                {
                    "constant": true,
                    "inputs": [],
                    "name": "getAllCharityNames",
                    "outputs": [
                        {
                            "name": "charityNames",
                            "type": "string[]"
                        }
                    ],
                    "payable": false,
                    "stateMutability": "view",
                    "type": "function"
                }
            ]
            
        </ts:abi>

	</ts:contract>
	<ts:origins>
		
        <ts:ethereum contract="Token"/>
		<ts:ethereum contract="Points"/>
	</ts:origins>

    
    <ts:selection filter="points=999989999" name="dummyForcePointsToLoadAlwaysFalse">
		<ts:label>
			<ts:string xml:lang="en">Force points attribute to be fetched so the `i` button has access to them without clicking a card action first</ts:string>
		</ts:label>
	</ts:selection>

	<ts:cards>
		<ts:viewContent xmlns="http://www.w3.org/1999/xhtml" name="common">
			
			
		<style>/*&lt;![CDATA[*/ 

*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}html{font-family:Rubik,system-ui,sans-serif}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.absolute{position:absolute}.relative{position:relative}.mx-6{margin-left:1.5rem;margin-right:1.5rem}.ml-1\.5{margin-left:.375rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.ml-6{margin-left:1.5rem}.mt-1{margin-top:.25rem}.mt-12{margin-top:3rem}.mt-14{margin-top:3.5rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.flex{display:flex}.h-14{height:3.5rem}.h-16{height:4rem}.h-24{height:6rem}.h-5{height:1.25rem}.h-64{height:16rem}.w-16{width:4rem}.w-40{width:10rem}.w-5{width:1.25rem}.w-64{width:16rem}.w-full{width:100%}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-50{--tw-scale-x: .5;--tw-scale-y: .5;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-evenly{justify-content:space-evenly}.rounded-3xl{border-radius:1.5rem}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-indigo-300{--tw-border-opacity: 1;border-color:rgb(165 180 252 / var(--tw-border-opacity))}.border-purple-200{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity))}.bg-indigo-500{--tw-bg-opacity: 1;background-color:rgb(99 102 241 / var(--tw-bg-opacity))}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.p-2{padding:.5rem}.p-3{padding:.75rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pl-1\.5{padding-left:.375rem}.pr-4{padding-right:1rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-semibold{font-weight:600}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-indigo-300{--tw-text-opacity: 1;color:rgb(165 180 252 / var(--tw-text-opacity))}.text-indigo-500{--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity))}.text-purple-400{--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-1000{transition-duration:1s}.hover\:bg-indigo-700:hover{--tw-bg-opacity: 1;background-color:rgb(67 56 202 / var(--tw-bg-opacity))}.hover\:underline:hover{text-decoration-line:underline}.loader-container.svelte-1av2oaf.svelte-1av2oaf{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.loader-container.small.svelte-1av2oaf.svelte-1av2oaf{width:-moz-fit-content;width:fit-content;height:100%}.lds-ring.svelte-1av2oaf.svelte-1av2oaf{display:inline-block;position:relative;width:80px;height:80px}.loader-container.small.svelte-1av2oaf .lds-ring.svelte-1av2oaf{width:28px;height:28px}.lds-ring.svelte-1av2oaf div.svelte-1av2oaf{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #656565;border-radius:50%;animation:svelte-1av2oaf-lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#656565 transparent transparent transparent}.loader-container.small.svelte-1av2oaf .lds-ring div.svelte-1av2oaf{width:24px;height:24px;margin:2px;border:2px solid #656565;border-color:#656565 transparent transparent transparent}.lds-ring.svelte-1av2oaf div.svelte-1av2oaf:nth-child(1){animation-delay:-.45s}.lds-ring.svelte-1av2oaf div.svelte-1av2oaf:nth-child(2){animation-delay:-.3s}.lds-ring.svelte-1av2oaf div.svelte-1av2oaf:nth-child(3){animation-delay:-.15s}@keyframes svelte-1av2oaf-lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}


 /*//]]&gt;*/</style>
<script type="module" crossorigin="">//&lt;![CDATA[

var Rn=Object.defineProperty;var Fn=(n,e,i)=&gt;e in n?Rn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var wt=(n,e,i)=&gt;(Fn(n,typeof e!="symbol"?e+"":e,i),i);(function(){const e=document.createElement("link").relList;if(e&amp;&amp;e.supports&amp;&amp;e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=&gt;{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&amp;&amp;s.rel==="modulepreload"&amp;&amp;t(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&amp;&amp;(o.integrity=r.integrity),r.referrerPolicy&amp;&amp;(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function Q(){}function un(n){return n()}function Ut(){return Object.create(null)}function De(n){n.forEach(un)}function Ze(n){return typeof n=="function"}function ye(n,e){return n!=n?e==e:n!==e||n&amp;&amp;typeof n=="object"||typeof n=="function"}let it;function ct(n,e){return n===e?!0:(it||(it=document.createElement("a")),it.href=e,n===it.href)}function Dn(n){return Object.keys(n).length===0}function Ht(n){return n??""}function L(n,e){n.appendChild(e)}function R(n,e,i){n.insertBefore(e,i||null)}function I(n){n.parentNode&amp;&amp;n.parentNode.removeChild(n)}function On(n,e){for(let i=0;i&lt;n.length;i+=1)n[i]&amp;&amp;n[i].d(e)}function P(n){return document.createElement(n)}function X(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function re(n){return document.createTextNode(n)}function H(){return re(" ")}function xe(){return re("")}function se(n,e,i,t){return n.addEventListener(e,i,t),()=&gt;n.removeEventListener(e,i,t)}function d(n,e,i){i==null?n.removeAttribute(e):n.getAttribute(e)!==i&amp;&amp;n.setAttribute(e,i)}function $n(n){return Array.from(n.childNodes)}function Le(n,e){e=""+e,n.data!==e&amp;&amp;(n.data=e)}function je(n,e){n.value=e??""}function Vt(n,e,i){for(let t=0;t&lt;n.options.length;t+=1){const r=n.options[t];if(r.__value===e){r.selected=!0;return}}(!i||e!==void 0)&amp;&amp;(n.selectedIndex=-1)}function Un(n){const e=n.querySelector(":checked");return e&amp;&amp;e.__value}function zt(n,e){return new n(e)}let Qe;function Ye(n){Qe=n}function Hn(){if(!Qe)throw new Error("Function called outside component initialization");return Qe}function Vn(n){Hn().$$.on_mount.push(n)}const Ue=[],Gt=[];let He=[];const qt=[],zn=Promise.resolve();let Nt=!1;function Gn(){Nt||(Nt=!0,zn.then(an))}function ut(n){He.push(n)}const _t=new Set;let Oe=0;function an(){if(Oe!==0)return;const n=Qe;do{try{for(;Oe&lt;Ue.length;){const e=Ue[Oe];Oe++,Ye(e),qn(e.$$)}}catch(e){throw Ue.length=0,Oe=0,e}for(Ye(null),Ue.length=0,Oe=0;Gt.length;)Gt.pop()();for(let e=0;e&lt;He.length;e+=1){const i=He[e];_t.has(i)||(_t.add(i),i())}He.length=0}while(Ue.length);for(;qt.length;)qt.pop()();Nt=!1,_t.clear(),Ye(n)}function qn(n){if(n.fragment!==null){n.update(),De(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&amp;&amp;n.fragment.p(n.ctx,e),n.after_update.forEach(ut)}}function Wn(n){const e=[],i=[];He.forEach(t=&gt;n.indexOf(t)===-1?e.push(t):i.push(t)),i.forEach(t=&gt;t()),He=e}const ft=new Set;let Fe;function Te(){Fe={r:0,c:[],p:Fe}}function Pe(){Fe.r||De(Fe.c),Fe=Fe.p}function Z(n,e){n&amp;&amp;n.i&amp;&amp;(ft.delete(n),n.i(e))}function ee(n,e,i,t){if(n&amp;&amp;n.o){if(ft.has(n))return;ft.add(n),Fe.c.push(()=&gt;{ft.delete(n),t&amp;&amp;(i&amp;&amp;n.d(1),t())}),n.o(e)}else t&amp;&amp;t()}function Wt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ae(n){n&amp;&amp;n.c()}function ce(n,e,i){const{fragment:t,after_update:r}=n.$$;t&amp;&amp;t.m(e,i),ut(()=&gt;{const o=n.$$.on_mount.map(un).filter(Ze);n.$$.on_destroy?n.$$.on_destroy.push(...o):De(o),n.$$.on_mount=[]}),r.forEach(ut)}function ue(n,e){const i=n.$$;i.fragment!==null&amp;&amp;(Wn(i.after_update),De(i.on_destroy),i.fragment&amp;&amp;i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function jn(n,e){n.$$.dirty[0]===-1&amp;&amp;(Ue.push(n),Gn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1&lt;&lt;e%31}function be(n,e,i,t,r,o,s=null,f=[-1]){const a=Qe;Ye(n);const h=n.$$={fragment:null,ctx:[],props:o,update:Q,not_equal:r,bound:Ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ut(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};s&amp;&amp;s(h.root);let A=!1;if(h.ctx=i?i(n,e.props||{},(y,v,...x)=&gt;{const B=x.length?x[0]:v;return h.ctx&amp;&amp;r(h.ctx[y],h.ctx[y]=B)&amp;&amp;(!h.skip_bound&amp;&amp;h.bound[y]&amp;&amp;h.bound[y](B),A&amp;&amp;jn(n,y)),v}):[],h.update(),A=!0,De(h.before_update),h.fragment=t?t(h.ctx):!1,e.target){if(e.hydrate){const y=$n(e.target);h.fragment&amp;&amp;h.fragment.l(y),y.forEach(I)}else h.fragment&amp;&amp;h.fragment.c();e.intro&amp;&amp;Z(n.$$.fragment),ce(n,e.target,e.anchor),an()}Ye(a)}class ke{constructor(){wt(this,"$$");wt(this,"$$set")}$destroy(){ue(this,1),this.$destroy=Q}$on(e,i){if(!Ze(i))return Q;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(i),()=&gt;{const r=t.indexOf(i);r!==-1&amp;&amp;t.splice(r,1)}}$set(e){this.$$set&amp;&amp;!Dn(e)&amp;&amp;(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Yn="4";typeof window&lt;"u"&amp;&amp;(window.__svelte||(window.__svelte={v:new Set})).v.add(Yn);const $e=[];function Jn(n,e=Q){let i;const t=new Set;function r(f){if(ye(n,f)&amp;&amp;(n=f,i)){const a=!$e.length;for(const h of t)h[1](),$e.push(h,n);if(a){for(let h=0;h&lt;$e.length;h+=2)$e[h][0]($e[h+1]);$e.length=0}}}function o(f){r(f(n))}function s(f,a=Q){const h=[f,a];return t.add(h),t.size===1&amp;&amp;(i=e(r,o)||Q),f(n),()=&gt;{t.delete(h),t.size===0&amp;&amp;i&amp;&amp;(i(),i=null)}}return{set:r,update:o,subscribe:s}}const xt=Jn({token:null});function Kn(n){xt.set({...xt,token:n})}const et={data:xt,setToken:Kn};function Zn(n){let e;return{c(){e=P("h1"),e.textContent="404"},m(i,t){R(i,e,t)},p:Q,i:Q,o:Q,d(i){i&amp;&amp;I(e)}}}class Qn extends ke{constructor(e){super(),be(this,e,null,Zn,ye,{})}}class Xn{constructor(){this.baseURI="https://d37i1m1hx1fc5p.cloudfront.net"}async generateWalletPass(e,i){return this.sendReqeust("/wallet-pass",{method:"POST",body:JSON.stringify({platform:e,passId:i})})}async getWalletPasses(e){return this.sendReqeust(`/wallet-pass/${e}`)}async updateWalletPass(e,i,t){return this.sendReqeust("/wallet-pass",{method:"PUT",body:JSON.stringify({passId:e,donationAmount:i,charityName:t})})}async sendReqeust(e,i={}){const t=await fetch(this.baseURI+e,{...i,headers:{...i.headers,"Content-Type":"application/json"}});if(!t.ok){const r=(await t.json()).error;throw new Error(`api request failed: ${e}, error: ${r}`)}try{return await t.json()}catch{return null}}}const Je=new Xn;function jt(n){let e,i,t;return{c(){e=P("div"),i=P("div"),i.innerHTML='&lt;div class="svelte-1av2oaf"&gt;&lt;/div&gt; &lt;div class="svelte-1av2oaf"&gt;&lt;/div&gt; &lt;div class="svelte-1av2oaf"&gt;&lt;/div&gt; &lt;div class="svelte-1av2oaf"&gt;&lt;/div&gt;',d(i,"class","lds-ring svelte-1av2oaf"),d(e,"class",t=Ht(`loader-container ${n[1]}`)+" svelte-1av2oaf")},m(r,o){R(r,e,o),L(e,i)},p(r,o){o&amp;2&amp;&amp;t!==(t=Ht(`loader-container ${r[1]}`)+" svelte-1av2oaf")&amp;&amp;d(e,"class",t)},d(r){r&amp;&amp;I(e)}}}function ei(n){let e,i=n[0]&amp;&amp;jt(n);return{c(){i&amp;&amp;i.c(),e=xe()},m(t,r){i&amp;&amp;i.m(t,r),R(t,e,r)},p(t,[r]){t[0]?i?i.p(t,r):(i=jt(t),i.c(),i.m(e.parentNode,e)):i&amp;&amp;(i.d(1),i=null)},i:Q,o:Q,d(t){t&amp;&amp;I(e),i&amp;&amp;i.d(t)}}}function ti(n,e,i){let{show:t}=e,{size:r="normal"}=e;return n.$$set=o=&gt;{"show"in o&amp;&amp;i(0,t=o.show),"size"in o&amp;&amp;i(1,r=o.size)},[t,r]}class We extends ke{constructor(e){super(),be(this,e,ti,ei,ye,{show:0,size:1})}}function Yt(n){let e;return{c(){e=P("div"),e.innerHTML='&lt;img src="https://d31vrfdo6b6g17.cloudfront.net/assets/images/loading-icon.gif" alt="Icon" class="w-16 h-16 mt-12"/&gt; &lt;h3 class="text-xl font-semibold mt-4"&gt;Ongoing transaction&lt;/h3&gt; &lt;p class="text text-gray-600 mt-3 mx-6 text-center"&gt;You need to approve this transaction in your wallet&lt;/p&gt;',d(e,"class","flex flex-col items-center")},m(i,t){R(i,e,t)},d(i){i&amp;&amp;I(e)}}}function ni(n){let e,i=n[0]&amp;&amp;Yt();return{c(){i&amp;&amp;i.c(),e=xe()},m(t,r){i&amp;&amp;i.m(t,r),R(t,e,r)},p(t,[r]){t[0]?i||(i=Yt(),i.c(),i.m(e.parentNode,e)):i&amp;&amp;(i.d(1),i=null)},i:Q,o:Q,d(t){t&amp;&amp;I(e),i&amp;&amp;i.d(t)}}}function ii(n,e,i){let{show:t}=e;return n.$$set=r=&gt;{"show"in r&amp;&amp;i(0,t=r.show)},[t]}class dn extends ke{constructor(e){super(),be(this,e,ii,ni,ye,{show:0})}}function ri(n){let e,i,t,r,o,s,f,a,h,A,y,v,x,B,M,O,T;return{c(){e=P("div"),i=X("svg"),t=X("g"),r=X("rect"),o=X("path"),s=X("defs"),f=X("clipPath"),a=X("rect"),h=H(),A=P("h3"),A.textContent="Something went wrong",y=H(),v=P("p"),v.textContent="Please, try again.",x=H(),B=P("div"),M=P("button"),M.textContent="Try Again",d(r,"x","0.5"),d(r,"width","56"),d(r,"height","56"),d(r,"rx","28"),d(r,"fill","#FFB3B3"),d(r,"fill-opacity","0.5"),d(o,"d","M36.875 35.875L21.125 20.125M36.875 20.125L21.125 35.875"),d(o,"stroke","#FF6868"),d(o,"stroke-width","2.25"),d(o,"stroke-linecap","round"),d(o,"stroke-linejoin","round"),d(t,"clip-path","url(#clip0_34_1553)"),d(a,"x","0.5"),d(a,"width","56"),d(a,"height","56"),d(a,"rx","28"),d(a,"fill","white"),d(f,"id","clip0_34_1553"),d(i,"viewBox","0 0 57 56"),d(i,"fill","none"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(i,"class","w-16 h-16 mt-14"),d(A,"class","text-xl font-semibold mt-4"),d(v,"class","text text-gray-600 mt-3 mx-6 text-center"),d(M,"type","button"),d(M,"class","w-full py-4 bg-indigo-500 hover:bg-indigo-700 text-white rounded-xl text-xl"),d(B,"class","w-full p-3 mt-5"),d(e,"class","flex flex-col items-center w-full")},m(k,S){R(k,e,S),L(e,i),L(i,t),L(t,r),L(t,o),L(i,s),L(s,f),L(f,a),L(e,h),L(e,A),L(e,y),L(e,v),L(e,x),L(e,B),L(B,M),O||(T=se(M,"click",function(){Ze(n[0])&amp;&amp;n[0].apply(this,arguments)}),O=!0)},p(k,[S]){n=k},i:Q,o:Q,d(k){k&amp;&amp;I(e),O=!1,T()}}}function oi(n,e,i){let{retry:t}=e;return n.$$set=r=&gt;{"retry"in r&amp;&amp;i(0,t=r.retry)},[t]}class hn extends ke{constructor(e){super(),be(this,e,oi,ri,ye,{retry:0})}}function li(n){let e,i,t,r,o,s,f,a,h,A,y,v,x,B,M,O,T,k,S,F,G,U,z,l,c,u,m,p,w,E,g,_,b,C,N,D,$;return{c(){e=P("div"),i=X("svg"),t=X("path"),r=X("path"),o=X("path"),s=X("path"),f=X("circle"),a=X("circle"),h=X("circle"),A=X("rect"),y=X("path"),v=X("path"),x=H(),B=P("h3"),B.textContent="Feel Gud!",M=H(),O=P("p"),T=re("You have donated "),k=re(n[0]),S=re(" ETH to:"),F=H(),G=P("div"),U=X("svg"),z=X("path"),l=X("path"),c=H(),u=P("p"),m=re(n[2]),p=H(),w=P("a"),E=re(`View transaction
		`),g=X("svg"),_=X("path"),b=H(),C=P("div"),N=P("button"),N.textContent="Ok",d(t,"d","M161.16 43.8077C160.765 43.9363 160.331 43.8201 160.053 43.5112L156.893 39.9988C156.053 39.0641 154.578 40.1261 155.197 41.22L158.786 47.5573C159.076 48.0684 159.728 48.2432 160.234 47.9453L166.512 44.2517C167.595 43.6141 166.849 41.9569 165.653 42.3459L161.16 43.8077Z"),d(t,"fill","#6868FF"),d(r,"d","M167.771 39.6399C167.936 40.1778 167.648 40.7499 167.118 40.9381L161.41 42.9646C160.999 43.1105 160.541 42.9877 160.258 42.656L156.329 38.0472C155.964 37.6192 156.001 36.9798 156.412 36.5962L157.624 35.4665C158.114 35.0091 158.902 35.1219 159.244 35.6986L161.129 38.8723C161.421 39.3628 162.05 39.5315 162.548 39.2523L165.767 37.4463C166.352 37.1181 167.091 37.4143 167.287 38.0557L167.771 39.6399Z"),d(r,"fill","#DC79FF"),d(o,"d","M10.1327 42.7191C9.94422 43.0894 9.55529 43.314 9.14033 43.2921L4.42227 43.0428C3.16686 42.9765 2.87474 44.7705 4.08633 45.1059L11.1055 47.049C11.6716 47.2057 12.2564 46.8681 12.4037 46.2995L14.2305 39.2491C14.5458 38.0322 12.8462 37.3882 12.2759 38.5085L10.1327 42.7191Z"),d(o,"fill","#6868FF"),d(s,"d","M11.8603 35.0973C12.3569 35.3613 12.5578 35.9695 12.3161 36.4774L9.71329 41.9461C9.52596 42.3397 9.11517 42.5769 8.68065 42.5423L2.64317 42.062C2.08246 42.0174 1.65619 41.5394 1.67587 40.9772L1.73384 39.3216C1.75732 38.6513 2.39405 38.1741 3.04405 38.3396L6.62108 39.2509C7.17393 39.3918 7.73821 39.066 7.89266 38.5168L8.89198 34.9633C9.07357 34.3176 9.80523 34.0048 10.3975 34.3197L11.8603 35.0973Z"),d(s,"fill","#DC79FF"),d(f,"cx","143.755"),d(f,"cy","5.64866"),d(f,"r","2.75676"),d(f,"fill","#DC79FF"),d(f,"fill-opacity","0.5"),d(a,"cx","29.3495"),d(a,"cy","75.946"),d(a,"r","2.75676"),d(a,"fill","#DC79FF"),d(a,"fill-opacity","0.5"),d(h,"cx","29.3491"),d(h,"cy","23.5676"),d(h,"r","1.37838"),d(h,"fill","#DC79FF"),d(h,"fill-opacity","0.5"),d(A,"x","35.9888"),d(A,"width","102"),d(A,"height","102"),d(A,"rx","51"),d(A,"fill","#C4C4FF"),d(A,"fill-opacity","0.5"),d(y,"d","M89.8993 57.8812C88.4385 58.8307 86.5554 58.8307 85.0946 57.8812L68.4846 47.0847C64.0649 44.2119 59.2431 50.1138 62.9395 53.8718L84.3543 75.6435C86.0815 77.3994 88.9124 77.3994 90.6396 75.6435L112.054 53.8718C115.751 50.1138 110.929 44.2119 106.509 47.0847L89.8993 57.8812Z"),d(y,"fill","#6868FF"),d(v,"d","M112.151 33.8263C113.401 35.8263 112.856 38.4558 110.913 39.7933L89.9965 54.195C88.4911 55.2315 86.5022 55.2315 84.9968 54.195L64.0801 39.7933C62.1375 38.4558 61.5919 35.8263 62.8419 33.8263L66.5234 27.9359C68.014 25.5509 71.3266 25.1529 73.3398 27.1169L84.4184 37.9253C86.1306 39.5958 88.8627 39.5958 90.575 37.9253L101.654 27.1169C103.667 25.1529 106.979 25.5509 108.47 27.9359L112.151 33.8263Z"),d(v,"fill","#DC79FF"),d(i,"id","feelsGoodSvg"),d(i,"viewBox","0 0 169 102"),d(i,"fill","none"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(i,"class",n[3]),d(B,"class","text-xl font-semibold mt-4"),d(O,"class","text text-gray-600 mt-3 mx-6 text-center"),d(z,"d","M15.3437 11.2812L17.125 13.0625L15.3437 14.8438M15.3437 4.15625L17.125 5.9375L15.3437 7.71875M2.875 13.0625H6.03635C6.52505 13.0625 7.00619 12.9418 7.43707 12.7113C7.86795 12.4807 8.23524 12.1473 8.50635 11.7407L10 9.5"),d(z,"stroke","#DC79FF"),d(z,"stroke-width","1.18812"),d(z,"stroke-linecap","round"),d(z,"stroke-linejoin","round"),d(l,"d","M2.875 5.9375H6.03635C6.52505 5.93751 7.00619 6.05816 7.43707 6.28875C7.86795 6.51934 8.23524 6.85273 8.50635 7.25934L11.4937 11.7407C11.7648 12.1473 12.132 12.4807 12.5629 12.7113C12.9938 12.9418 13.475 13.0625 13.9637 13.0625H15.9375M15.9375 5.9375H13.9637C13.475 5.93751 12.9938 6.05816 12.5629 6.28875C12.132 6.51934 11.7648 6.85273 11.4937 7.25934L11.1875 7.71875"),d(l,"stroke","#DC79FF"),d(l,"stroke-width","1.18812"),d(l,"stroke-linecap","round"),d(l,"stroke-linejoin","round"),d(U,"width","20"),d(U,"height","20"),d(U,"viewBox","0 0 20 19"),d(U,"fill","none"),d(U,"xmlns","http://www.w3.org/2000/svg"),d(u,"class","ml-2"),d(G,"class","flex items-center text text-purple-400 bg-purple-100 border-2 border-purple-200 rounded-3xl px-6 py-1 mt-4"),d(_,"d","M15 8.75V15.9375C15 16.1427 14.9596 16.3459 14.8811 16.5354C14.8025 16.725 14.6874 16.8973 14.5424 17.0424C14.3973 17.1874 14.225 17.3025 14.0354 17.3811C13.8459 17.4596 13.6427 17.5 13.4375 17.5H4.0625C3.6481 17.5 3.25067 17.3354 2.95765 17.0424C2.66462 16.7493 2.5 16.3519 2.5 15.9375V6.5625C2.5 6.1481 2.66462 5.75067 2.95765 5.45765C3.25067 5.16462 3.6481 5 4.0625 5H10.6047M13.125 2.5H17.5V6.875M8.75 11.25L17.1875 2.8125"),d(_,"stroke","#707070"),d(_,"stroke-width","1.25"),d(_,"stroke-linecap","round"),d(_,"stroke-linejoin","round"),d(g,"viewBox","0 0 20 20"),d(g,"fill","none"),d(g,"xmlns","http://www.w3.org/2000/svg"),d(g,"class","w-5 h-5 ml-1.5"),d(w,"href",n[1]),d(w,"target","_blank"),d(w,"class","mt-4 flex text-gray-600 hover:underline"),d(N,"type","button"),d(N,"class","w-full py-4 bg-indigo-500 hover:bg-indigo-700 text-white rounded-xl text-xl"),d(C,"class","w-full p-3 mt-5"),d(e,"class","flex flex-col items-center w-full")},m(V,K){R(V,e,K),L(e,i),L(i,t),L(i,r),L(i,o),L(i,s),L(i,f),L(i,a),L(i,h),L(i,A),L(i,y),L(i,v),L(e,x),L(e,B),L(e,M),L(e,O),L(O,T),L(O,k),L(O,S),L(e,F),L(e,G),L(G,U),L(U,z),L(U,l),L(G,c),L(G,u),L(u,m),L(e,p),L(e,w),L(w,E),L(w,g),L(g,_),L(e,b),L(e,C),L(C,N),D||($=se(N,"click",tokenscript.action.closeCard),D=!0)},p(V,[K]){K&amp;8&amp;&amp;d(i,"class",V[3]),K&amp;1&amp;&amp;Le(k,V[0]),K&amp;4&amp;&amp;Le(m,V[2]),K&amp;2&amp;&amp;d(w,"href",V[1])},i:Q,o:Q,d(V){V&amp;&amp;I(e),D=!1,$()}}}function si(n,e,i){let{amount:t}=e,{transactionLink:r}=e,{charity:o}=e;Vn(()=&gt;{setTimeout(()=&gt;{i(3,s="mt-6 w-40 h-24 transform transition-all duration-1000 scale-100")},0)});let s="mt-4 w-40 h-24 transform transition-all duration-1000 scale-50";return n.$$set=f=&gt;{"amount"in f&amp;&amp;i(0,t=f.amount),"transactionLink"in f&amp;&amp;i(1,r=f.transactionLink),"charity"in f&amp;&amp;i(2,o=f.charity)},[t,r,o,s]}class gn extends ke{constructor(e){super(),be(this,e,si,li,ye,{amount:0,transactionLink:1,charity:2})}}function fi(n){let e,i,t,r,o,s,f,a,h,A,y,v,x,B,M,O,T,k,S,F,G,U,z,l,c,u,m,p,w,E,g,_,b,C,N,D,$,V,K,te;return{c(){e=P("div"),i=P("button"),i.innerHTML='&lt;svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"&gt;&lt;g clip-path="url(#clip0_192_2372)"&gt;&lt;path d="M14.396 15.4779L10.1977 11.2704L14.396 7.06295L13.1035 5.77045L7.6035 11.2704L13.1035 16.7704L14.396 15.4779Z" fill="#2D2D2D"&gt;&lt;/path&gt;&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="clip0_192_2372"&gt;&lt;rect width="22" height="22" fill="white"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;/svg&gt; &lt;span class=""&gt;Back&lt;/span&gt;',t=H(),r=P("div"),o=P("h3"),o.textContent="Summary",s=H(),f=P("p"),f.textContent="Review and confirm your transaction",a=H(),h=P("p"),h.textContent="Recipient",A=H(),y=P("div"),v=X("svg"),x=X("path"),B=X("path"),M=H(),O=P("p"),T=re(n[2]),k=H(),S=P("p"),S.textContent="Donation amount",F=H(),G=P("p"),U=re(n[3]),z=re(" ETH"),l=H(),c=P("p"),c.textContent="Operational fee",u=H(),m=P("p"),p=re(n[4]),w=re(" ETH"),E=H(),g=P("p"),g.textContent="Total amount",_=H(),b=P("p"),C=re(n[5]),N=re(" ETH"),D=H(),$=P("div"),V=P("button"),V.textContent="Confirm",d(i,"class","flex mt-12 ml-4"),d(o,"class","text-xl font-semibold mt-5"),d(f,"class","text text-gray-600 mt-3"),d(h,"class","text text-gray-600 mt-5"),d(x,"d","M15.3437 11.2812L17.125 13.0625L15.3437 14.8438M15.3437 4.15625L17.125 5.9375L15.3437 7.71875M2.875 13.0625H6.03635C6.52505 13.0625 7.00619 12.9418 7.43707 12.7113C7.86795 12.4807 8.23524 12.1473 8.50635 11.7407L10 9.5"),d(x,"stroke","#DC79FF"),d(x,"stroke-width","1.18812"),d(x,"stroke-linecap","round"),d(x,"stroke-linejoin","round"),d(B,"d","M2.875 5.9375H6.03635C6.52505 5.93751 7.00619 6.05816 7.43707 6.28875C7.86795 6.51934 8.23524 6.85273 8.50635 7.25934L11.4937 11.7407C11.7648 12.1473 12.132 12.4807 12.5629 12.7113C12.9938 12.9418 13.475 13.0625 13.9637 13.0625H15.9375M15.9375 5.9375H13.9637C13.475 5.93751 12.9938 6.05816 12.5629 6.28875C12.132 6.51934 11.7648 6.85273 11.4937 7.25934L11.1875 7.71875"),d(B,"stroke","#DC79FF"),d(B,"stroke-width","1.18812"),d(B,"stroke-linecap","round"),d(B,"stroke-linejoin","round"),d(v,"width","20"),d(v,"height","20"),d(v,"viewBox","0 0 20 19"),d(v,"fill","none"),d(v,"xmlns","http://www.w3.org/2000/svg"),d(O,"class","ml-2"),d(y,"class","flex items-center text text-purple-400 bg-purple-100 border-2 border-purple-200 rounded-3xl px-6 py-1 mt-2"),d(S,"class","text text-gray-600 mt-3"),d(G,"class","text-xl mt-1"),d(c,"class","text text-gray-600 mt-4"),d(m,"class","text-xl mt-1"),d(g,"class","text text-gray-600 mt-4"),d(b,"class","text-4xl mt-3"),d(V,"type","button"),d(V,"class","w-full py-4 bg-indigo-500 hover:bg-indigo-700 text-white rounded-xl text-xl"),d($,"class","w-full p-2 mt-5"),d(r,"class","flex flex-col items-center w-full px-3"),d(e,"class","w-full")},m(Y,J){R(Y,e,J),L(e,i),L(e,t),L(e,r),L(r,o),L(r,s),L(r,f),L(r,a),L(r,h),L(r,A),L(r,y),L(y,v),L(v,x),L(v,B),L(y,M),L(y,O),L(O,T),L(r,k),L(r,S),L(r,F),L(r,G),L(G,U),L(G,z),L(r,l),L(r,c),L(r,u),L(r,m),L(m,p),L(m,w),L(r,E),L(r,g),L(r,_),L(r,b),L(b,C),L(b,N),L(r,D),L(r,$),L($,V),K||(te=[se(i,"click",function(){Ze(n[0])&amp;&amp;n[0].apply(this,arguments)}),se(V,"click",function(){Ze(n[1])&amp;&amp;n[1].apply(this,arguments)})],K=!0)},p(Y,[J]){n=Y,J&amp;4&amp;&amp;Le(T,n[2]),J&amp;8&amp;&amp;Le(U,n[3]),J&amp;16&amp;&amp;Le(p,n[4]),J&amp;32&amp;&amp;Le(C,n[5])},i:Q,o:Q,d(Y){Y&amp;&amp;I(e),K=!1,De(te)}}}function ci(n,e,i){let{close:t}=e,{confirm:r}=e,{charity:o}=e,{amount:s}=e,{operationalFee:f}=e,{totalAmount:a}=e;return n.$$set=h=&gt;{"close"in h&amp;&amp;i(0,t=h.close),"confirm"in h&amp;&amp;i(1,r=h.confirm),"charity"in h&amp;&amp;i(2,o=h.charity),"amount"in h&amp;&amp;i(3,s=h.amount),"operationalFee"in h&amp;&amp;i(4,f=h.operationalFee),"totalAmount"in h&amp;&amp;i(5,a=h.totalAmount)},[t,r,o,s,f,a]}class pn extends ke{constructor(e){super(),be(this,e,ci,fi,ye,{close:0,confirm:1,charity:2,amount:3,operationalFee:4,totalAmount:5})}}var ui=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,yt=Math.ceil,we=Math.floor,de="[BigNumber Error] ",Jt=de+"Number primitive has more than 15 significant digits: ",Ce=1e14,j=14,Ct=9007199254740991,bt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Be=1e7,le=1e9;function mn(n){var e,i,t,r=k.prototype={constructor:k,toString:null,valueOf:null},o=new k(1),s=20,f=4,a=-7,h=21,A=-1e7,y=1e7,v=!1,x=1,B=0,M={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},O="0123456789abcdefghijklmnopqrstuvwxyz",T=!0;function k(l,c){var u,m,p,w,E,g,_,b,C=this;if(!(C instanceof k))return new k(l,c);if(c==null){if(l&amp;&amp;l._isBigNumber===!0){C.s=l.s,!l.c||l.e&gt;y?C.c=C.e=null:l.e&lt;A?C.c=[C.e=0]:(C.e=l.e,C.c=l.c.slice());return}if((g=typeof l=="number")&amp;&amp;l*0==0){if(C.s=1/l&lt;0?(l=-l,-1):1,l===~~l){for(w=0,E=l;E&gt;=10;E/=10,w++);w&gt;y?C.c=C.e=null:(C.e=w,C.c=[l]);return}b=String(l)}else{if(!ui.test(b=String(l)))return t(C,b,g);C.s=b.charCodeAt(0)==45?(b=b.slice(1),-1):1}(w=b.indexOf("."))&gt;-1&amp;&amp;(b=b.replace(".","")),(E=b.search(/e/i))&gt;0?(w&lt;0&amp;&amp;(w=E),w+=+b.slice(E+1),b=b.substring(0,E)):w&lt;0&amp;&amp;(w=b.length)}else{if(ie(c,2,O.length,"Base"),c==10&amp;&amp;T)return C=new k(l),U(C,s+C.e+1,f);if(b=String(l),g=typeof l=="number"){if(l*0!=0)return t(C,b,g,c);if(C.s=1/l&lt;0?(b=b.slice(1),-1):1,k.DEBUG&amp;&amp;b.replace(/^0\.0*|\./,"").length&gt;15)throw Error(Jt+l)}else C.s=b.charCodeAt(0)===45?(b=b.slice(1),-1):1;for(u=O.slice(0,c),w=E=0,_=b.length;E&lt;_;E++)if(u.indexOf(m=b.charAt(E))&lt;0){if(m=="."){if(E&gt;w){w=_;continue}}else if(!p&amp;&amp;(b==b.toUpperCase()&amp;&amp;(b=b.toLowerCase())||b==b.toLowerCase()&amp;&amp;(b=b.toUpperCase()))){p=!0,E=-1,w=0;continue}return t(C,String(l),g,c)}g=!1,b=i(b,c,10,C.s),(w=b.indexOf("."))&gt;-1?b=b.replace(".",""):w=b.length}for(E=0;b.charCodeAt(E)===48;E++);for(_=b.length;b.charCodeAt(--_)===48;);if(b=b.slice(E,++_)){if(_-=E,g&amp;&amp;k.DEBUG&amp;&amp;_&gt;15&amp;&amp;(l&gt;Ct||l!==we(l)))throw Error(Jt+C.s*l);if((w=w-E-1)&gt;y)C.c=C.e=null;else if(w&lt;A)C.c=[C.e=0];else{if(C.e=w,C.c=[],E=(w+1)%j,w&lt;0&amp;&amp;(E+=j),E&lt;_){for(E&amp;&amp;C.c.push(+b.slice(0,E)),_-=j;E&lt;_;)C.c.push(+b.slice(E,E+=j));E=j-(b=b.slice(E)).length}else E-=_;for(;E--;b+="0");C.c.push(+b)}}else C.c=[C.e=0]}k.clone=mn,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(l){var c,u;if(l!=null)if(typeof l=="object"){if(l.hasOwnProperty(c="DECIMAL_PLACES")&amp;&amp;(u=l[c],ie(u,0,le,c),s=u),l.hasOwnProperty(c="ROUNDING_MODE")&amp;&amp;(u=l[c],ie(u,0,8,c),f=u),l.hasOwnProperty(c="EXPONENTIAL_AT")&amp;&amp;(u=l[c],u&amp;&amp;u.pop?(ie(u[0],-le,0,c),ie(u[1],0,le,c),a=u[0],h=u[1]):(ie(u,-le,le,c),a=-(h=u&lt;0?-u:u))),l.hasOwnProperty(c="RANGE"))if(u=l[c],u&amp;&amp;u.pop)ie(u[0],-le,-1,c),ie(u[1],1,le,c),A=u[0],y=u[1];else if(ie(u,-le,le,c),u)A=-(y=u&lt;0?-u:u);else throw Error(de+c+" cannot be zero: "+u);if(l.hasOwnProperty(c="CRYPTO"))if(u=l[c],u===!!u)if(u)if(typeof crypto&lt;"u"&amp;&amp;crypto&amp;&amp;(crypto.getRandomValues||crypto.randomBytes))v=u;else throw v=!u,Error(de+"crypto unavailable");else v=u;else throw Error(de+c+" not true or false: "+u);if(l.hasOwnProperty(c="MODULO_MODE")&amp;&amp;(u=l[c],ie(u,0,9,c),x=u),l.hasOwnProperty(c="POW_PRECISION")&amp;&amp;(u=l[c],ie(u,0,le,c),B=u),l.hasOwnProperty(c="FORMAT"))if(u=l[c],typeof u=="object")M=u;else throw Error(de+c+" not an object: "+u);if(l.hasOwnProperty(c="ALPHABET"))if(u=l[c],typeof u=="string"&amp;&amp;!/^.?$|[+\-.\s]|(.).*\1/.test(u))T=u.slice(0,10)=="0123456789",O=u;else throw Error(de+c+" invalid: "+u)}else throw Error(de+"Object expected: "+l);return{DECIMAL_PLACES:s,ROUNDING_MODE:f,EXPONENTIAL_AT:[a,h],RANGE:[A,y],CRYPTO:v,MODULO_MODE:x,POW_PRECISION:B,FORMAT:M,ALPHABET:O}},k.isBigNumber=function(l){if(!l||l._isBigNumber!==!0)return!1;if(!k.DEBUG)return!0;var c,u,m=l.c,p=l.e,w=l.s;e:if({}.toString.call(m)=="[object Array]"){if((w===1||w===-1)&amp;&amp;p&gt;=-le&amp;&amp;p&lt;=le&amp;&amp;p===we(p)){if(m[0]===0){if(p===0&amp;&amp;m.length===1)return!0;break e}if(c=(p+1)%j,c&lt;1&amp;&amp;(c+=j),String(m[0]).length==c){for(c=0;c&lt;m.length;c++)if(u=m[c],u&lt;0||u&gt;=Ce||u!==we(u))break e;if(u!==0)return!0}}}else if(m===null&amp;&amp;p===null&amp;&amp;(w===null||w===1||w===-1))return!0;throw Error(de+"Invalid BigNumber: "+l)},k.maximum=k.max=function(){return F(arguments,-1)},k.minimum=k.min=function(){return F(arguments,1)},k.random=function(){var l=9007199254740992,c=Math.random()*l&amp;2097151?function(){return we(Math.random()*l)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(u){var m,p,w,E,g,_=0,b=[],C=new k(o);if(u==null?u=s:ie(u,0,le),E=yt(u/j),v)if(crypto.getRandomValues){for(m=crypto.getRandomValues(new Uint32Array(E*=2));_&lt;E;)g=m[_]*131072+(m[_+1]&gt;&gt;&gt;11),g&gt;=9e15?(p=crypto.getRandomValues(new Uint32Array(2)),m[_]=p[0],m[_+1]=p[1]):(b.push(g%1e14),_+=2);_=E/2}else if(crypto.randomBytes){for(m=crypto.randomBytes(E*=7);_&lt;E;)g=(m[_]&amp;31)*281474976710656+m[_+1]*1099511627776+m[_+2]*4294967296+m[_+3]*16777216+(m[_+4]&lt;&lt;16)+(m[_+5]&lt;&lt;8)+m[_+6],g&gt;=9e15?crypto.randomBytes(7).copy(m,_):(b.push(g%1e14),_+=7);_=E/7}else throw v=!1,Error(de+"crypto unavailable");if(!v)for(;_&lt;E;)g=c(),g&lt;9e15&amp;&amp;(b[_++]=g%1e14);for(E=b[--_],u%=j,E&amp;&amp;u&amp;&amp;(g=bt[j-u],b[_]=we(E/g)*g);b[_]===0;b.pop(),_--);if(_&lt;0)b=[w=0];else{for(w=-1;b[0]===0;b.splice(0,1),w-=j);for(_=1,g=b[0];g&gt;=10;g/=10,_++);_&lt;j&amp;&amp;(w-=j-_)}return C.e=w,C.c=b,C}}(),k.sum=function(){for(var l=1,c=arguments,u=new k(c[0]);l&lt;c.length;)u=u.plus(c[l++]);return u},i=function(){var l="0123456789";function c(u,m,p,w){for(var E,g=[0],_,b=0,C=u.length;b&lt;C;){for(_=g.length;_--;g[_]*=m);for(g[0]+=w.indexOf(u.charAt(b++)),E=0;E&lt;g.length;E++)g[E]&gt;p-1&amp;&amp;(g[E+1]==null&amp;&amp;(g[E+1]=0),g[E+1]+=g[E]/p|0,g[E]%=p)}return g.reverse()}return function(u,m,p,w,E){var g,_,b,C,N,D,$,V,K=u.indexOf("."),te=s,Y=f;for(K&gt;=0&amp;&amp;(C=B,B=0,u=u.replace(".",""),V=new k(m),D=V.pow(u.length-K),B=C,V.c=c(Ne(me(D.c),D.e,"0"),10,p,l),V.e=V.c.length),$=c(u,m,p,E?(g=O,l):(g=l,O)),b=C=$.length;$[--C]==0;$.pop());if(!$[0])return g.charAt(0);if(K&lt;0?--b:(D.c=$,D.e=b,D.s=w,D=e(D,V,te,Y,p),$=D.c,N=D.r,b=D.e),_=b+te+1,K=$[_],C=p/2,N=N||_&lt;0||$[_+1]!=null,N=Y&lt;4?(K!=null||N)&amp;&amp;(Y==0||Y==(D.s&lt;0?3:2)):K&gt;C||K==C&amp;&amp;(Y==4||N||Y==6&amp;&amp;$[_-1]&amp;1||Y==(D.s&lt;0?8:7)),_&lt;1||!$[0])u=N?Ne(g.charAt(1),-te,g.charAt(0)):g.charAt(0);else{if($.length=_,N)for(--p;++$[--_]&gt;p;)$[_]=0,_||(++b,$=[1].concat($));for(C=$.length;!$[--C];);for(K=0,u="";K&lt;=C;u+=g.charAt($[K++]));u=Ne(u,b,g.charAt(0))}return u}}(),e=function(){function l(m,p,w){var E,g,_,b,C=0,N=m.length,D=p%Be,$=p/Be|0;for(m=m.slice();N--;)_=m[N]%Be,b=m[N]/Be|0,E=$*_+b*D,g=D*_+E%Be*Be+C,C=(g/w|0)+(E/Be|0)+$*b,m[N]=g%w;return C&amp;&amp;(m=[C].concat(m)),m}function c(m,p,w,E){var g,_;if(w!=E)_=w&gt;E?1:-1;else for(g=_=0;g&lt;w;g++)if(m[g]!=p[g]){_=m[g]&gt;p[g]?1:-1;break}return _}function u(m,p,w,E){for(var g=0;w--;)m[w]-=g,g=m[w]&lt;p[w]?1:0,m[w]=g*E+m[w]-p[w];for(;!m[0]&amp;&amp;m.length&gt;1;m.splice(0,1));}return function(m,p,w,E,g){var _,b,C,N,D,$,V,K,te,Y,J,oe,Ee,ve,Ie,he,pe,ne=m.s==p.s?1:-1,q=m.c,W=p.c;if(!q||!q[0]||!W||!W[0])return new k(!m.s||!p.s||(q?W&amp;&amp;q[0]==W[0]:!W)?NaN:q&amp;&amp;q[0]==0||!W?ne*0:ne/0);for(K=new k(ne),te=K.c=[],b=m.e-p.e,ne=w+b+1,g||(g=Ce,b=_e(m.e/j)-_e(p.e/j),ne=ne/j|0),C=0;W[C]==(q[C]||0);C++);if(W[C]&gt;(q[C]||0)&amp;&amp;b--,ne&lt;0)te.push(1),N=!0;else{for(ve=q.length,he=W.length,C=0,ne+=2,D=we(g/(W[0]+1)),D&gt;1&amp;&amp;(W=l(W,D,g),q=l(q,D,g),he=W.length,ve=q.length),Ee=he,Y=q.slice(0,he),J=Y.length;J&lt;he;Y[J++]=0);pe=W.slice(),pe=[0].concat(pe),Ie=W[0],W[1]&gt;=g/2&amp;&amp;Ie++;do{if(D=0,_=c(W,Y,he,J),_&lt;0){if(oe=Y[0],he!=J&amp;&amp;(oe=oe*g+(Y[1]||0)),D=we(oe/Ie),D&gt;1)for(D&gt;=g&amp;&amp;(D=g-1),$=l(W,D,g),V=$.length,J=Y.length;c($,Y,V,J)==1;)D--,u($,he&lt;V?pe:W,V,g),V=$.length,_=1;else D==0&amp;&amp;(_=D=1),$=W.slice(),V=$.length;if(V&lt;J&amp;&amp;($=[0].concat($)),u(Y,$,J,g),J=Y.length,_==-1)for(;c(W,Y,he,J)&lt;1;)D++,u(Y,he&lt;J?pe:W,J,g),J=Y.length}else _===0&amp;&amp;(D++,Y=[0]);te[C++]=D,Y[0]?Y[J++]=q[Ee]||0:(Y=[q[Ee]],J=1)}while((Ee++&lt;ve||Y[0]!=null)&amp;&amp;ne--);N=Y[0]!=null,te[0]||te.splice(0,1)}if(g==Ce){for(C=1,ne=te[0];ne&gt;=10;ne/=10,C++);U(K,w+(K.e=C+b*j-1)+1,E,N)}else K.e=b,K.r=+N;return K}}();function S(l,c,u,m){var p,w,E,g,_;if(u==null?u=f:ie(u,0,8),!l.c)return l.toString();if(p=l.c[0],E=l.e,c==null)_=me(l.c),_=m==1||m==2&amp;&amp;(E&lt;=a||E&gt;=h)?ot(_,E):Ne(_,E,"0");else if(l=U(new k(l),c,u),w=l.e,_=me(l.c),g=_.length,m==1||m==2&amp;&amp;(c&lt;=w||w&lt;=a)){for(;g&lt;c;_+="0",g++);_=ot(_,w)}else if(c-=E,_=Ne(_,w,"0"),w+1&gt;g){if(--c&gt;0)for(_+=".";c--;_+="0");}else if(c+=w-g,c&gt;0)for(w+1==g&amp;&amp;(_+=".");c--;_+="0");return l.s&lt;0&amp;&amp;p?"-"+_:_}function F(l,c){for(var u,m,p=1,w=new k(l[0]);p&lt;l.length;p++)m=new k(l[p]),(!m.s||(u=Re(w,m))===c||u===0&amp;&amp;w.s===c)&amp;&amp;(w=m);return w}function G(l,c,u){for(var m=1,p=c.length;!c[--p];c.pop());for(p=c[0];p&gt;=10;p/=10,m++);return(u=m+u*j-1)&gt;y?l.c=l.e=null:u&lt;A?l.c=[l.e=0]:(l.e=u,l.c=c),l}t=function(){var l=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,u=/^\.([^.]+)$/,m=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(w,E,g,_){var b,C=g?E:E.replace(p,"");if(m.test(C))w.s=isNaN(C)?null:C&lt;0?-1:1;else{if(!g&amp;&amp;(C=C.replace(l,function(N,D,$){return b=($=$.toLowerCase())=="x"?16:$=="b"?2:8,!_||_==b?D:N}),_&amp;&amp;(b=_,C=C.replace(c,"$1").replace(u,"0.$1")),E!=C))return new k(C,b);if(k.DEBUG)throw Error(de+"Not a"+(_?" base "+_:"")+" number: "+E);w.s=null}w.c=w.e=null}}();function U(l,c,u,m){var p,w,E,g,_,b,C,N=l.c,D=bt;if(N){e:{for(p=1,g=N[0];g&gt;=10;g/=10,p++);if(w=c-p,w&lt;0)w+=j,E=c,_=N[b=0],C=we(_/D[p-E-1]%10);else if(b=yt((w+1)/j),b&gt;=N.length)if(m){for(;N.length&lt;=b;N.push(0));_=C=0,p=1,w%=j,E=w-j+1}else break e;else{for(_=g=N[b],p=1;g&gt;=10;g/=10,p++);w%=j,E=w-j+p,C=E&lt;0?0:we(_/D[p-E-1]%10)}if(m=m||c&lt;0||N[b+1]!=null||(E&lt;0?_:_%D[p-E-1]),m=u&lt;4?(C||m)&amp;&amp;(u==0||u==(l.s&lt;0?3:2)):C&gt;5||C==5&amp;&amp;(u==4||m||u==6&amp;&amp;(w&gt;0?E&gt;0?_/D[p-E]:0:N[b-1])%10&amp;1||u==(l.s&lt;0?8:7)),c&lt;1||!N[0])return N.length=0,m?(c-=l.e+1,N[0]=D[(j-c%j)%j],l.e=-c||0):N[0]=l.e=0,l;if(w==0?(N.length=b,g=1,b--):(N.length=b+1,g=D[j-w],N[b]=E&gt;0?we(_/D[p-E]%D[E])*g:0),m)for(;;)if(b==0){for(w=1,E=N[0];E&gt;=10;E/=10,w++);for(E=N[0]+=g,g=1;E&gt;=10;E/=10,g++);w!=g&amp;&amp;(l.e++,N[0]==Ce&amp;&amp;(N[0]=1));break}else{if(N[b]+=g,N[b]!=Ce)break;N[b--]=0,g=1}for(w=N.length;N[--w]===0;N.pop());}l.e&gt;y?l.c=l.e=null:l.e&lt;A&amp;&amp;(l.c=[l.e=0])}return l}function z(l){var c,u=l.e;return u===null?l.toString():(c=me(l.c),c=u&lt;=a||u&gt;=h?ot(c,u):Ne(c,u,"0"),l.s&lt;0?"-"+c:c)}return r.absoluteValue=r.abs=function(){var l=new k(this);return l.s&lt;0&amp;&amp;(l.s=1),l},r.comparedTo=function(l,c){return Re(this,new k(l,c))},r.decimalPlaces=r.dp=function(l,c){var u,m,p,w=this;if(l!=null)return ie(l,0,le),c==null?c=f:ie(c,0,8),U(new k(w),l+w.e+1,c);if(!(u=w.c))return null;if(m=((p=u.length-1)-_e(this.e/j))*j,p=u[p])for(;p%10==0;p/=10,m--);return m&lt;0&amp;&amp;(m=0),m},r.dividedBy=r.div=function(l,c){return e(this,new k(l,c),s,f)},r.dividedToIntegerBy=r.idiv=function(l,c){return e(this,new k(l,c),0,1)},r.exponentiatedBy=r.pow=function(l,c){var u,m,p,w,E,g,_,b,C,N=this;if(l=new k(l),l.c&amp;&amp;!l.isInteger())throw Error(de+"Exponent not an integer: "+z(l));if(c!=null&amp;&amp;(c=new k(c)),g=l.e&gt;14,!N.c||!N.c[0]||N.c[0]==1&amp;&amp;!N.e&amp;&amp;N.c.length==1||!l.c||!l.c[0])return C=new k(Math.pow(+z(N),g?l.s*(2-rt(l)):+z(l))),c?C.mod(c):C;if(_=l.s&lt;0,c){if(c.c?!c.c[0]:!c.s)return new k(NaN);m=!_&amp;&amp;N.isInteger()&amp;&amp;c.isInteger(),m&amp;&amp;(N=N.mod(c))}else{if(l.e&gt;9&amp;&amp;(N.e&gt;0||N.e&lt;-1||(N.e==0?N.c[0]&gt;1||g&amp;&amp;N.c[1]&gt;=24e7:N.c[0]&lt;8e13||g&amp;&amp;N.c[0]&lt;=9999975e7)))return w=N.s&lt;0&amp;&amp;rt(l)?-0:0,N.e&gt;-1&amp;&amp;(w=1/w),new k(_?1/w:w);B&amp;&amp;(w=yt(B/j+2))}for(g?(u=new k(.5),_&amp;&amp;(l.s=1),b=rt(l)):(p=Math.abs(+z(l)),b=p%2),C=new k(o);;){if(b){if(C=C.times(N),!C.c)break;w?C.c.length&gt;w&amp;&amp;(C.c.length=w):m&amp;&amp;(C=C.mod(c))}if(p){if(p=we(p/2),p===0)break;b=p%2}else if(l=l.times(u),U(l,l.e+1,1),l.e&gt;14)b=rt(l);else{if(p=+z(l),p===0)break;b=p%2}N=N.times(N),w?N.c&amp;&amp;N.c.length&gt;w&amp;&amp;(N.c.length=w):m&amp;&amp;(N=N.mod(c))}return m?C:(_&amp;&amp;(C=o.div(C)),c?C.mod(c):w?U(C,B,f,E):C)},r.integerValue=function(l){var c=new k(this);return l==null?l=f:ie(l,0,8),U(c,c.e+1,l)},r.isEqualTo=r.eq=function(l,c){return Re(this,new k(l,c))===0},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(l,c){return Re(this,new k(l,c))&gt;0},r.isGreaterThanOrEqualTo=r.gte=function(l,c){return(c=Re(this,new k(l,c)))===1||c===0},r.isInteger=function(){return!!this.c&amp;&amp;_e(this.e/j)&gt;this.c.length-2},r.isLessThan=r.lt=function(l,c){return Re(this,new k(l,c))&lt;0},r.isLessThanOrEqualTo=r.lte=function(l,c){return(c=Re(this,new k(l,c)))===-1||c===0},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s&lt;0},r.isPositive=function(){return this.s&gt;0},r.isZero=function(){return!!this.c&amp;&amp;this.c[0]==0},r.minus=function(l,c){var u,m,p,w,E=this,g=E.s;if(l=new k(l,c),c=l.s,!g||!c)return new k(NaN);if(g!=c)return l.s=-c,E.plus(l);var _=E.e/j,b=l.e/j,C=E.c,N=l.c;if(!_||!b){if(!C||!N)return C?(l.s=-c,l):new k(N?E:NaN);if(!C[0]||!N[0])return N[0]?(l.s=-c,l):new k(C[0]?E:f==3?-0:0)}if(_=_e(_),b=_e(b),C=C.slice(),g=_-b){for((w=g&lt;0)?(g=-g,p=C):(b=_,p=N),p.reverse(),c=g;c--;p.push(0));p.reverse()}else for(m=(w=(g=C.length)&lt;(c=N.length))?g:c,g=c=0;c&lt;m;c++)if(C[c]!=N[c]){w=C[c]&lt;N[c];break}if(w&amp;&amp;(p=C,C=N,N=p,l.s=-l.s),c=(m=N.length)-(u=C.length),c&gt;0)for(;c--;C[u++]=0);for(c=Ce-1;m&gt;g;){if(C[--m]&lt;N[m]){for(u=m;u&amp;&amp;!C[--u];C[u]=c);--C[u],C[m]+=Ce}C[m]-=N[m]}for(;C[0]==0;C.splice(0,1),--b);return C[0]?G(l,C,b):(l.s=f==3?-1:1,l.c=[l.e=0],l)},r.modulo=r.mod=function(l,c){var u,m,p=this;return l=new k(l,c),!p.c||!l.s||l.c&amp;&amp;!l.c[0]?new k(NaN):!l.c||p.c&amp;&amp;!p.c[0]?new k(p):(x==9?(m=l.s,l.s=1,u=e(p,l,0,3),l.s=m,u.s*=m):u=e(p,l,0,x),l=p.minus(u.times(l)),!l.c[0]&amp;&amp;x==1&amp;&amp;(l.s=p.s),l)},r.multipliedBy=r.times=function(l,c){var u,m,p,w,E,g,_,b,C,N,D,$,V,K,te,Y=this,J=Y.c,oe=(l=new k(l,c)).c;if(!J||!oe||!J[0]||!oe[0])return!Y.s||!l.s||J&amp;&amp;!J[0]&amp;&amp;!oe||oe&amp;&amp;!oe[0]&amp;&amp;!J?l.c=l.e=l.s=null:(l.s*=Y.s,!J||!oe?l.c=l.e=null:(l.c=[0],l.e=0)),l;for(m=_e(Y.e/j)+_e(l.e/j),l.s*=Y.s,_=J.length,N=oe.length,_&lt;N&amp;&amp;(V=J,J=oe,oe=V,p=_,_=N,N=p),p=_+N,V=[];p--;V.push(0));for(K=Ce,te=Be,p=N;--p&gt;=0;){for(u=0,D=oe[p]%te,$=oe[p]/te|0,E=_,w=p+E;w&gt;p;)b=J[--E]%te,C=J[E]/te|0,g=$*b+C*D,b=D*b+g%te*te+V[w]+u,u=(b/K|0)+(g/te|0)+$*C,V[w--]=b%K;V[w]=u}return u?++m:V.splice(0,1),G(l,V,m)},r.negated=function(){var l=new k(this);return l.s=-l.s||null,l},r.plus=function(l,c){var u,m=this,p=m.s;if(l=new k(l,c),c=l.s,!p||!c)return new k(NaN);if(p!=c)return l.s=-c,m.minus(l);var w=m.e/j,E=l.e/j,g=m.c,_=l.c;if(!w||!E){if(!g||!_)return new k(p/0);if(!g[0]||!_[0])return _[0]?l:new k(g[0]?m:p*0)}if(w=_e(w),E=_e(E),g=g.slice(),p=w-E){for(p&gt;0?(E=w,u=_):(p=-p,u=g),u.reverse();p--;u.push(0));u.reverse()}for(p=g.length,c=_.length,p-c&lt;0&amp;&amp;(u=_,_=g,g=u,c=p),p=0;c;)p=(g[--c]=g[c]+_[c]+p)/Ce|0,g[c]=Ce===g[c]?0:g[c]%Ce;return p&amp;&amp;(g=[p].concat(g),++E),G(l,g,E)},r.precision=r.sd=function(l,c){var u,m,p,w=this;if(l!=null&amp;&amp;l!==!!l)return ie(l,1,le),c==null?c=f:ie(c,0,8),U(new k(w),l,c);if(!(u=w.c))return null;if(p=u.length-1,m=p*j+1,p=u[p]){for(;p%10==0;p/=10,m--);for(p=u[0];p&gt;=10;p/=10,m++);}return l&amp;&amp;w.e+1&gt;m&amp;&amp;(m=w.e+1),m},r.shiftedBy=function(l){return ie(l,-Ct,Ct),this.times("1e"+l)},r.squareRoot=r.sqrt=function(){var l,c,u,m,p,w=this,E=w.c,g=w.s,_=w.e,b=s+4,C=new k("0.5");if(g!==1||!E||!E[0])return new k(!g||g&lt;0&amp;&amp;(!E||E[0])?NaN:E?w:1/0);if(g=Math.sqrt(+z(w)),g==0||g==1/0?(c=me(E),(c.length+_)%2==0&amp;&amp;(c+="0"),g=Math.sqrt(+c),_=_e((_+1)/2)-(_&lt;0||_%2),g==1/0?c="5e"+_:(c=g.toExponential(),c=c.slice(0,c.indexOf("e")+1)+_),u=new k(c)):u=new k(g+""),u.c[0]){for(_=u.e,g=_+b,g&lt;3&amp;&amp;(g=0);;)if(p=u,u=C.times(p.plus(e(w,p,b,1))),me(p.c).slice(0,g)===(c=me(u.c)).slice(0,g))if(u.e&lt;_&amp;&amp;--g,c=c.slice(g-3,g+1),c=="9999"||!m&amp;&amp;c=="4999"){if(!m&amp;&amp;(U(p,p.e+s+2,0),p.times(p).eq(w))){u=p;break}b+=4,g+=4,m=1}else{(!+c||!+c.slice(1)&amp;&amp;c.charAt(0)=="5")&amp;&amp;(U(u,u.e+s+2,1),l=!u.times(u).eq(w));break}}return U(u,u.e+s+1,f,l)},r.toExponential=function(l,c){return l!=null&amp;&amp;(ie(l,0,le),l++),S(this,l,c,1)},r.toFixed=function(l,c){return l!=null&amp;&amp;(ie(l,0,le),l=l+this.e+1),S(this,l,c)},r.toFormat=function(l,c,u){var m,p=this;if(u==null)l!=null&amp;&amp;c&amp;&amp;typeof c=="object"?(u=c,c=null):l&amp;&amp;typeof l=="object"?(u=l,l=c=null):u=M;else if(typeof u!="object")throw Error(de+"Argument not an object: "+u);if(m=p.toFixed(l,c),p.c){var w,E=m.split("."),g=+u.groupSize,_=+u.secondaryGroupSize,b=u.groupSeparator||"",C=E[0],N=E[1],D=p.s&lt;0,$=D?C.slice(1):C,V=$.length;if(_&amp;&amp;(w=g,g=_,_=w,V-=w),g&gt;0&amp;&amp;V&gt;0){for(w=V%g||g,C=$.substr(0,w);w&lt;V;w+=g)C+=b+$.substr(w,g);_&gt;0&amp;&amp;(C+=b+$.slice(w)),D&amp;&amp;(C="-"+C)}m=N?C+(u.decimalSeparator||"")+((_=+u.fractionGroupSize)?N.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&amp;"+(u.fractionGroupSeparator||"")):N):C}return(u.prefix||"")+m+(u.suffix||"")},r.toFraction=function(l){var c,u,m,p,w,E,g,_,b,C,N,D,$=this,V=$.c;if(l!=null&amp;&amp;(g=new k(l),!g.isInteger()&amp;&amp;(g.c||g.s!==1)||g.lt(o)))throw Error(de+"Argument "+(g.isInteger()?"out of range: ":"not an integer: ")+z(g));if(!V)return new k($);for(c=new k(o),b=u=new k(o),m=_=new k(o),D=me(V),w=c.e=D.length-$.e-1,c.c[0]=bt[(E=w%j)&lt;0?j+E:E],l=!l||g.comparedTo(c)&gt;0?w&gt;0?c:b:g,E=y,y=1/0,g=new k(D),_.c[0]=0;C=e(g,c,0,1),p=u.plus(C.times(m)),p.comparedTo(l)!=1;)u=m,m=p,b=_.plus(C.times(p=b)),_=p,c=g.minus(C.times(p=c)),g=p;return p=e(l.minus(u),m,0,1),_=_.plus(p.times(b)),u=u.plus(p.times(m)),_.s=b.s=$.s,w=w*2,N=e(b,m,w,f).minus($).abs().comparedTo(e(_,u,w,f).minus($).abs())&lt;1?[b,m]:[_,u],y=E,N},r.toNumber=function(){return+z(this)},r.toPrecision=function(l,c){return l!=null&amp;&amp;ie(l,1,le),S(this,l,c,2)},r.toString=function(l){var c,u=this,m=u.s,p=u.e;return p===null?m?(c="Infinity",m&lt;0&amp;&amp;(c="-"+c)):c="NaN":(l==null?c=p&lt;=a||p&gt;=h?ot(me(u.c),p):Ne(me(u.c),p,"0"):l===10&amp;&amp;T?(u=U(new k(u),s+p+1,f),c=Ne(me(u.c),u.e,"0")):(ie(l,2,O.length,"Base"),c=i(Ne(me(u.c),p,"0"),10,l,m,!0)),m&lt;0&amp;&amp;u.c[0]&amp;&amp;(c="-"+c)),c},r.valueOf=r.toJSON=function(){return z(this)},r._isBigNumber=!0,r[Symbol.toStringTag]="BigNumber",r[Symbol.for("nodejs.util.inspect.custom")]=r.valueOf,n!=null&amp;&amp;k.set(n),k}function _e(n){var e=n|0;return n&gt;0||n===e?e:e-1}function me(n){for(var e,i,t=1,r=n.length,o=n[0]+"";t&lt;r;){for(e=n[t++]+"",i=j-e.length;i--;e="0"+e);o+=e}for(r=o.length;o.charCodeAt(--r)===48;);return o.slice(0,r+1||1)}function Re(n,e){var i,t,r=n.c,o=e.c,s=n.s,f=e.s,a=n.e,h=e.e;if(!s||!f)return null;if(i=r&amp;&amp;!r[0],t=o&amp;&amp;!o[0],i||t)return i?t?0:-f:s;if(s!=f)return s;if(i=s&lt;0,t=a==h,!r||!o)return t?0:!r^i?1:-1;if(!t)return a&gt;h^i?1:-1;for(f=(a=r.length)&lt;(h=o.length)?a:h,s=0;s&lt;f;s++)if(r[s]!=o[s])return r[s]&gt;o[s]^i?1:-1;return a==h?0:a&gt;h^i?1:-1}function ie(n,e,i,t){if(n&lt;e||n&gt;i||n!==we(n))throw Error(de+(t||"Argument")+(typeof n=="number"?n&lt;e||n&gt;i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function rt(n){var e=n.c.length-1;return _e(n.e/j)==e&amp;&amp;n.c[e]%2!=0}function ot(n,e){return(n.length&gt;1?n.charAt(0)+"."+n.slice(1):n)+(e&lt;0?"e":"e+")+e}function Ne(n,e,i){var t,r;if(e&lt;0){for(r=i+".";++e;r+=i);n=r+n}else if(t=n.length,++e&gt;t){for(r=i,e-=t;--e;r+=i);n+=r}else e&lt;t&amp;&amp;(n=n.slice(0,e)+"."+n.slice(e));return n}var wn=mn();function _n(n){return Number(wn(n).dividedBy(1e4/(1e4+50)).minus(n).toFixed(9))}const ai={address:"0x40dc7D0B5E11Ee259314C548a238b9c909A4B721"};function Kt(n,e,i){const t=n.slice();return t[22]=e[i],t}function di(n){let e,i;return e=new hn({props:{retry:n[12]}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p:Q,i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function hi(n){let e,i,t=n[6]&amp;&amp;Zt(n);return{c(){t&amp;&amp;t.c(),e=xe()},m(r,o){t&amp;&amp;t.m(r,o),R(r,e,o),i=!0},p(r,o){r[6]?t?(t.p(r,o),o&amp;64&amp;&amp;Z(t,1)):(t=Zt(r),t.c(),Z(t,1),t.m(e.parentNode,e)):t&amp;&amp;(Te(),ee(t,1,1,()=&gt;{t=null}),Pe())},i(r){i||(Z(t),i=!0)},o(r){ee(t),i=!1},d(r){r&amp;&amp;I(e),t&amp;&amp;t.d(r)}}}function gi(n){let e,i;return e=new dn({props:{show:n[8]==="pending sign or txn confirmation"}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p(t,r){const o={};r&amp;256&amp;&amp;(o.show=t[8]==="pending sign or txn confirmation"),e.$set(o)},i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function pi(n){let e,i;return e=new pn({props:{confirm:n[12],close:n[14],charity:n[9],amount:n[1],operationalFee:String(n[3]),totalAmount:String(n[2]+n[3])}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p(t,r){const o={};r&amp;512&amp;&amp;(o.charity=t[9]),r&amp;2&amp;&amp;(o.amount=t[1]),r&amp;8&amp;&amp;(o.operationalFee=String(t[3])),r&amp;12&amp;&amp;(o.totalAmount=String(t[2]+t[3])),e.$set(o)},i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function mi(n){let e,i=n[4]&amp;&amp;n[0]&amp;&amp;Qt(n);return{c(){i&amp;&amp;i.c(),e=xe()},m(t,r){i&amp;&amp;i.m(t,r),R(t,e,r)},p(t,r){t[4]&amp;&amp;t[0]?i?i.p(t,r):(i=Qt(t),i.c(),i.m(e.parentNode,e)):i&amp;&amp;(i.d(1),i=null)},i:Q,o:Q,d(t){t&amp;&amp;I(e),i&amp;&amp;i.d(t)}}}function Zt(n){let e,i;return e=new gn({props:{amount:n[1],transactionLink:n[6],charity:n[9]}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p(t,r){const o={};r&amp;2&amp;&amp;(o.amount=t[1]),r&amp;64&amp;&amp;(o.transactionLink=t[6]),r&amp;512&amp;&amp;(o.charity=t[9]),e.$set(o)},i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function Qt(n){let e,i,t,r,o,s,f,a,h,A,y,v,x,B,M,O,T,k,S,F,G,U,z,l,c,u,m,p,w,E,g,_,b,C,N,D,$,V,K,te,Y,J,oe,Ee,ve,Ie,he,pe=Wt(n[10]),ne=[];for(let q=0;q&lt;pe.length;q+=1)ne[q]=Xt(Kt(n,pe,q));return{c(){e=P("h3"),e.textContent="Donate to Charity",i=H(),t=P("p"),t.textContent="Choose a Charity and an amount to donate",r=H(),o=P("p"),o.textContent="Charity",s=H(),f=P("div"),a=P("select"),h=P("option"),h.textContent="Select Charity";for(let q=0;q&lt;ne.length;q+=1)ne[q].c();A=H(),y=P("p"),y.textContent="Amount",v=H(),x=P("div"),B=P("div"),M=P("input"),O=H(),T=X("svg"),k=X("path"),S=X("path"),F=X("path"),G=X("path"),U=X("path"),z=X("path"),l=H(),c=P("span"),c.textContent="ETH",u=H(),m=P("div"),p=P("span"),p.textContent="Suggested amounts",w=P("span"),E=P("span"),E.textContent="Balance: ",g=P("span"),_=re(n[5]),b=re(" ETH"),C=H(),N=P("div"),D=P("button"),D.textContent="0.001",$=H(),V=P("button"),V.textContent="0.002",K=H(),te=P("button"),te.textContent="0.003",Y=H(),J=P("button"),J.textContent="0.004",oe=H(),Ee=P("div"),ve=P("button"),ve.textContent="Review",d(e,"class","text-xl font-semibold mt-14"),d(t,"class","text text-gray-600 mt-3"),d(o,"class","text-sm text-gray-500 mt-6 w-full ml-6"),h.__value="",je(h,h.__value),h.disabled=!0,d(a,"id","charities"),d(a,"class","rounded-lg border-2 border-gray-100 w-full bg-white h-14"),n[9]===void 0&amp;&amp;ut(()=&gt;n[15].call(a)),d(f,"class","w-full mt-1 px-3"),d(y,"class","text-sm text-gray-500 mt-8 w-full ml-6"),d(M,"type","text"),d(M,"placeholder","0.00"),d(M,"class","w-full bg-white h-14 px-2 py-4 text-3xl"),d(k,"d","M12.9479 0.5L12.7842 1.04676V16.9125L12.9479 17.0731L20.4457 12.7199L12.9479 0.5Z"),d(k,"fill","#343434"),d(S,"d","M12.948 0.5L5.4502 12.7199L12.948 17.0732V9.3724V0.5Z"),d(S,"fill","#8C8C8C"),d(F,"d","M12.9478 18.4678L12.8555 18.5783V24.23L12.9478 24.4948L20.45 14.1167L12.9478 18.4678Z"),d(F,"fill","#3C3C3B"),d(G,"d","M12.948 24.4943V18.4673L5.4502 14.1162L12.948 24.4943Z"),d(G,"fill","#8C8C8C"),d(U,"d","M12.9482 17.0732L20.4459 12.72L12.9482 9.37256V17.0732Z"),d(U,"fill","#141414"),d(z,"d","M5.4502 12.72L12.9479 17.0732V9.37256L5.4502 12.72Z"),d(z,"fill","#393939"),d(T,"width","36"),d(T,"height","36"),d(T,"viewBox","0 0 25 25"),d(T,"fill","none"),d(T,"xmlns","http://www.w3.org/2000/svg"),d(c,"class","text-xl pl-1.5 pr-4"),d(B,"class","flex items-center rounded-lg border-2 border-gray-100"),d(x,"class","w-full mt-1 px-3"),d(p,"class","text-sm text-gray-600"),d(g,"class","underline"),d(w,"class","text-sm text-indigo-500"),d(m,"class","flex justify-between w-full px-3 mt-8"),d(D,"type","button"),d(D,"class","text-indigo-300 border-2 border-indigo-300 rounded-3xl px-5 py-2"),d(V,"type","button"),d(V,"class","text-indigo-300 border-2 border-indigo-300 rounded-3xl px-5 py-2"),d(te,"type","button"),d(te,"class","text-indigo-300 border-2 border-indigo-300 rounded-3xl px-5 py-2"),d(J,"type","button"),d(J,"class","text-indigo-300 border-2 border-indigo-300 rounded-3xl px-5 py-2"),d(N,"class","flex justify-evenly w-full mt-6"),d(ve,"type","button"),d(ve,"class","w-full py-4 bg-indigo-500 hover:bg-indigo-700 text-white rounded-xl text-xl"),d(Ee,"class","w-full p-3 mt-5")},m(q,W){R(q,e,W),R(q,i,W),R(q,t,W),R(q,r,W),R(q,o,W),R(q,s,W),R(q,f,W),L(f,a),L(a,h);for(let fe=0;fe&lt;ne.length;fe+=1)ne[fe]&amp;&amp;ne[fe].m(a,null);Vt(a,n[9],!0),R(q,A,W),R(q,y,W),R(q,v,W),R(q,x,W),L(x,B),L(B,M),je(M,n[1]),L(B,O),L(B,T),L(T,k),L(T,S),L(T,F),L(T,G),L(T,U),L(T,z),L(B,l),L(B,c),R(q,u,W),R(q,m,W),L(m,p),L(m,w),L(w,E),L(w,g),L(g,_),L(g,b),R(q,C,W),R(q,N,W),L(N,D),L(N,$),L(N,V),L(N,K),L(N,te),L(N,Y),L(N,J),R(q,oe,W),R(q,Ee,W),L(Ee,ve),Ie||(he=[se(a,"change",n[15]),se(M,"input",n[16]),se(D,"click",n[17]),se(V,"click",n[18]),se(te,"click",n[19]),se(J,"click",n[20]),se(ve,"click",n[11])],Ie=!0)},p(q,W){if(W&amp;1024){pe=Wt(q[10]);let fe;for(fe=0;fe&lt;pe.length;fe+=1){const $t=Kt(q,pe,fe);ne[fe]?ne[fe].p($t,W):(ne[fe]=Xt($t),ne[fe].c(),ne[fe].m(a,null))}for(;fe&lt;ne.length;fe+=1)ne[fe].d(1);ne.length=pe.length}W&amp;1536&amp;&amp;Vt(a,q[9]),W&amp;2&amp;&amp;M.value!==q[1]&amp;&amp;je(M,q[1]),W&amp;32&amp;&amp;Le(_,q[5])},d(q){q&amp;&amp;(I(e),I(i),I(t),I(r),I(o),I(s),I(f),I(A),I(y),I(v),I(x),I(u),I(m),I(C),I(N),I(oe),I(Ee)),On(ne,q),Ie=!1,De(he)}}}function Xt(n){let e,i=n[22]+"",t,r;return{c(){e=P("option"),t=re(i),e.__value=r=n[22],je(e,e.__value)},m(o,s){R(o,e,s),L(e,t)},p(o,s){s&amp;1024&amp;&amp;i!==(i=o[22]+"")&amp;&amp;Le(t,i),s&amp;1024&amp;&amp;r!==(r=o[22])&amp;&amp;(e.__value=r,je(e,e.__value))},d(o){o&amp;&amp;I(e)}}}function wi(n){let e,i,t,r,o,s,f;const a=[mi,pi,gi,hi,di],h=[];function A(y,v){return y[8]==="initial"?0:y[8]==="pending confirmation"?1:y[8]==="pending sign or txn confirmation"?2:y[8]==="succeeded"?3:y[8]==="failed"?4:-1}return~(t=A(n))&amp;&amp;(r=h[t]=a[t](n)),s=new We({props:{show:n[7]}}),{c(){e=P("div"),i=P("div"),r&amp;&amp;r.c(),o=H(),ae(s.$$.fragment),d(i,"class","flex flex-col items-center w-full"),d(e,"class","w-full")},m(y,v){R(y,e,v),L(e,i),~t&amp;&amp;h[t].m(i,null),L(e,o),ce(s,e,null),f=!0},p(y,[v]){let x=t;t=A(y),t===x?~t&amp;&amp;h[t].p(y,v):(r&amp;&amp;(Te(),ee(h[x],1,1,()=&gt;{h[x]=null}),Pe()),~t?(r=h[t],r?r.p(y,v):(r=h[t]=a[t](y),r.c()),Z(r,1),r.m(i,null)):r=null);const B={};v&amp;128&amp;&amp;(B.show=y[7]),s.$set(B)},i(y){f||(Z(r),Z(s.$$.fragment,y),f=!0)},o(y){ee(r),ee(s.$$.fragment,y),f=!1},d(y){y&amp;&amp;I(e),~t&amp;&amp;h[t].d(),ue(s)}}}function _i(n,e,i){let t,r="",o,s,f,a="-",h,A=!0,y="initial",v="",x=[];et.data.subscribe(async c=&gt;{if(!c.token)return;console.log(c.token);const u=c.token;i(4,f=u.ownerAddress),i(0,t=u.tokenId);const w=`https://api.token-discovery.tokenscript.org/get-owner-native-balance?chain=base-sepolia&amp;blockchain=evm&amp;owner=${f}`,E=await fetch(w);if(E.ok){const g=await E.json();i(5,a=String(new wn(g.balance).dividedBy(Math.pow(10,18)).toFixed(4,1)))}console.log("Charities: %o",Object.values(u.charityList)),i(10,x=Object.values(u.charityList)),i(7,A=!1)});function B(){return i(2,o=parseFloat(r)),v?!o||o&lt;=0?(tokenscript.action.showMessageToast("error","Can't Donate","Enter an amount"),null):(i(3,s=_n(o)),{charity:v,amount:o}):(tokenscript.action.showMessageToast("error","Can't Donate","Select a Charity"),null)}async function M(){B()&amp;&amp;i(8,y="pending confirmation")}async function O(){i(8,y="pending sign or txn confirmation");const c={charity:v,amount:(o+s)*Math.pow(10,18)};tokenscript.action.setProps(c);const u=p=&gt;{p.status==="confirmed"&amp;&amp;i(6,h=p.txLink)};if(await tokenscript.action.executeTransaction(void 0,u)){i(8,y="succeeded");const p=await Je.updateWalletPass(t,o*Math.pow(10,18),v);console.log("PUT wallet pass result: %o",p)}else i(8,y="failed")}function T(c){i(1,r=c.toString())}function k(){i(8,y="initial")}function S(){v=Un(this),i(9,v),i(10,x)}function F(){r=this.value,i(1,r)}return[t,r,o,s,f,a,h,A,y,v,x,M,O,T,k,S,F,()=&gt;T(.001),()=&gt;T(.002),()=&gt;T(.003),()=&gt;T(.004)]}class yi extends ke{constructor(e){super(),be(this,e,_i,wi,ye,{})}}function Ci(n){let e,i;return e=new hn({props:{retry:n[8]}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p:Q,i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function bi(n){let e,i,t=n[2]&amp;&amp;en(n);return{c(){t&amp;&amp;t.c(),e=xe()},m(r,o){t&amp;&amp;t.m(r,o),R(r,e,o),i=!0},p(r,o){r[2]?t?(t.p(r,o),o&amp;4&amp;&amp;Z(t,1)):(t=en(r),t.c(),Z(t,1),t.m(e.parentNode,e)):t&amp;&amp;(Te(),ee(t,1,1,()=&gt;{t=null}),Pe())},i(r){i||(Z(t),i=!0)},o(r){ee(t),i=!1},d(r){r&amp;&amp;I(e),t&amp;&amp;t.d(r)}}}function ki(n){let e,i;return e=new dn({props:{show:n[4]==="pending sign or txn confirmation"}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p(t,r){const o={};r&amp;16&amp;&amp;(o.show=t[4]==="pending sign or txn confirmation"),e.$set(o)},i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function Ei(n){let e,i;return e=new pn({props:{confirm:n[8],close:n[9],charity:"Random Charity",amount:n[5],operationalFee:String(n[6]),totalAmount:String(Bt+n[6])}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p:Q,i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function vi(n){let e,i=n[1]&amp;&amp;n[0]&amp;&amp;tn(n);return{c(){i&amp;&amp;i.c(),e=xe()},m(t,r){i&amp;&amp;i.m(t,r),R(t,e,r)},p(t,r){t[1]&amp;&amp;t[0]?i?i.p(t,r):(i=tn(t),i.c(),i.m(e.parentNode,e)):i&amp;&amp;(i.d(1),i=null)},i:Q,o:Q,d(t){t&amp;&amp;I(e),i&amp;&amp;i.d(t)}}}function en(n){let e,i;return e=new gn({props:{amount:"0.001",transactionLink:n[2],charity:"Random Charity"}}),{c(){ae(e.$$.fragment)},m(t,r){ce(e,t,r),i=!0},p(t,r){const o={};r&amp;4&amp;&amp;(o.transactionLink=t[2]),e.$set(o)},i(t){i||(Z(e.$$.fragment,t),i=!0)},o(t){ee(e.$$.fragment,t),i=!1},d(t){ue(e,t)}}}function tn(n){let e,i,t,r,o,s,f,a,h,A,y,v,x,B;return{c(){e=P("h3"),e.textContent="Quick donate",i=H(),t=P("p"),t.textContent="You are donating",r=H(),o=P("p"),o.textContent="0.001 ETH",s=H(),f=P("p"),f.textContent="to",a=H(),h=P("div"),h.innerHTML='&lt;svg width="20" height="20" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg"&gt;&lt;path d="M15.3437 11.2812L17.125 13.0625L15.3437 14.8438M15.3437 4.15625L17.125 5.9375L15.3437 7.71875M2.875 13.0625H6.03635C6.52505 13.0625 7.00619 12.9418 7.43707 12.7113C7.86795 12.4807 8.23524 12.1473 8.50635 11.7407L10 9.5" stroke="#DC79FF" stroke-width="1.18812" stroke-linecap="round" stroke-linejoin="round"&gt;&lt;/path&gt;&lt;path d="M2.875 5.9375H6.03635C6.52505 5.93751 7.00619 6.05816 7.43707 6.28875C7.86795 6.51934 8.23524 6.85273 8.50635 7.25934L11.4937 11.7407C11.7648 12.1473 12.132 12.4807 12.5629 12.7113C12.9938 12.9418 13.475 13.0625 13.9637 13.0625H15.9375M15.9375 5.9375H13.9637C13.475 5.93751 12.9938 6.05816 12.5629 6.28875C12.132 6.51934 11.7648 6.85273 11.4937 7.25934L11.1875 7.71875" stroke="#DC79FF" stroke-width="1.18812" stroke-linecap="round" stroke-linejoin="round"&gt;&lt;/path&gt;&lt;/svg&gt; &lt;p class="ml-2"&gt;Random Charity&lt;/p&gt;',A=H(),y=P("div"),v=P("button"),v.textContent="Review",d(e,"class","text-xl font-semibold mt-14"),d(t,"class","text text-gray-600 mt-3"),d(o,"class","text-2xl mt-4"),d(f,"class","text text-gray-600 mt-4"),d(h,"class","flex items-center text text-purple-400 bg-purple-100 border-2 border-purple-200 rounded-3xl px-6 py-1 mt-4"),d(v,"type","button"),d(v,"class","w-full py-4 bg-indigo-500 hover:bg-indigo-700 text-white rounded-xl text-xl"),d(y,"class","w-full p-2 mt-5")},m(M,O){R(M,e,O),R(M,i,O),R(M,t,O),R(M,r,O),R(M,o,O),R(M,s,O),R(M,f,O),R(M,a,O),R(M,h,O),R(M,A,O),R(M,y,O),L(y,v),x||(B=se(v,"click",n[7]),x=!0)},p:Q,d(M){M&amp;&amp;(I(e),I(i),I(t),I(r),I(o),I(s),I(f),I(a),I(h),I(A),I(y)),x=!1,B()}}}function Li(n){let e,i,t,r,o,s,f;const a=[vi,Ei,ki,bi,Ci],h=[];function A(y,v){return y[4]==="initial"?0:y[4]==="pending confirmation"?1:y[4]==="pending sign or txn confirmation"?2:y[4]==="succeeded"?3:y[4]==="failed"?4:-1}return~(t=A(n))&amp;&amp;(r=h[t]=a[t](n)),s=new We({props:{show:n[3]}}),{c(){e=P("div"),i=P("div"),r&amp;&amp;r.c(),o=H(),ae(s.$$.fragment),d(i,"class","flex flex-col items-center")},m(y,v){R(y,e,v),L(e,i),~t&amp;&amp;h[t].m(i,null),L(e,o),ce(s,e,null),f=!0},p(y,[v]){let x=t;t=A(y),t===x?~t&amp;&amp;h[t].p(y,v):(r&amp;&amp;(Te(),ee(h[x],1,1,()=&gt;{h[x]=null}),Pe()),~t?(r=h[t],r?r.p(y,v):(r=h[t]=a[t](y),r.c()),Z(r,1),r.m(i,null)):r=null);const B={};v&amp;8&amp;&amp;(B.show=y[3]),s.$set(B)},i(y){f||(Z(r),Z(s.$$.fragment,y),f=!0)},o(y){ee(r),ee(s.$$.fragment,y),f=!1},d(y){y&amp;&amp;I(e),~t&amp;&amp;h[t].d(),ue(s)}}}const Bt=.001;function Ai(n,e,i){let t,r,o;const s=String(Bt),f=_n(Bt);let a=!0,h="initial";et.data.subscribe(async x=&gt;{if(!x.token)return;console.log(x.token);const B=x.token;i(1,r=B.ownerAddress),i(0,t=B.tokenId),i(3,a=!1)});async function A(){i(4,h="pending confirmation")}async function y(){i(4,h="pending sign or txn confirmation");const x=M=&gt;{M.status==="confirmed"&amp;&amp;i(2,o=M.txLink)};if(await tokenscript.action.executeTransaction(void 0,x)){i(4,h="succeeded");const M=await Je.updateWalletPass(t,.001*Math.pow(10,18));console.log("PUT wallet pass result: %o",M)}else i(4,h="failed")}function v(){i(4,h="initial")}return[t,r,o,a,h,s,f,A,y,v]}class Ni extends ke{constructor(e){super(),be(this,e,Ai,Li,ye,{})}}var tt={},xi=function(){return typeof Promise=="function"&amp;&amp;Promise.prototype&amp;&amp;Promise.prototype.then},yn={},ge={};let It;const Bi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ge.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e&lt;1||e&gt;40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ge.getSymbolTotalCodewords=function(e){return Bi[e]};ge.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n&gt;&gt;&gt;=1;return e};ge.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');It=e};ge.isKanjiModeEnabled=function(){return typeof It&lt;"u"};ge.toSJIS=function(e){return It(e)};var ht={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+i)}}n.isValid=function(t){return t&amp;&amp;typeof t.bit&lt;"u"&amp;&amp;t.bit&gt;=0&amp;&amp;t.bit&lt;4},n.from=function(t,r){if(n.isValid(t))return t;try{return e(t)}catch{return r}}})(ht);function Cn(){this.buffer=[],this.length=0}Cn.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]&gt;&gt;&gt;7-n%8&amp;1)===1},put:function(n,e){for(let i=0;i&lt;e;i++)this.putBit((n&gt;&gt;&gt;e-i-1&amp;1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length&lt;=e&amp;&amp;this.buffer.push(0),n&amp;&amp;(this.buffer[e]|=128&gt;&gt;&gt;this.length%8),this.length++}};var Mi=Cn;function nt(n){if(!n||n&lt;1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}nt.prototype.set=function(n,e,i,t){const r=n*this.size+e;this.data[r]=i,t&amp;&amp;(this.reservedBit[r]=!0)};nt.prototype.get=function(n,e){return this.data[n*this.size+e]};nt.prototype.xor=function(n,e,i){this.data[n*this.size+e]^=i};nt.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var Ti=nt,bn={};(function(n){const e=ge.getSymbolSize;n.getRowColCoords=function(t){if(t===1)return[];const r=Math.floor(t/7)+2,o=e(t),s=o===145?26:Math.ceil((o-13)/(2*r-2))*2,f=[o-7];for(let a=1;a&lt;r-1;a++)f[a]=f[a-1]-s;return f.push(6),f.reverse()},n.getPositions=function(t){const r=[],o=n.getRowColCoords(t),s=o.length;for(let f=0;f&lt;s;f++)for(let a=0;a&lt;s;a++)f===0&amp;&amp;a===0||f===0&amp;&amp;a===s-1||f===s-1&amp;&amp;a===0||r.push([o[f],o[a]]);return r}})(bn);var kn={};const Pi=ge.getSymbolSize,nn=7;kn.getPositions=function(e){const i=Pi(e);return[[0,0],[i-nn,0],[0,i-nn]]};var En={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(r){return r!=null&amp;&amp;r!==""&amp;&amp;!isNaN(r)&amp;&amp;r&gt;=0&amp;&amp;r&lt;=7},n.from=function(r){return n.isValid(r)?parseInt(r,10):void 0},n.getPenaltyN1=function(r){const o=r.size;let s=0,f=0,a=0,h=null,A=null;for(let y=0;y&lt;o;y++){f=a=0,h=A=null;for(let v=0;v&lt;o;v++){let x=r.get(y,v);x===h?f++:(f&gt;=5&amp;&amp;(s+=e.N1+(f-5)),h=x,f=1),x=r.get(v,y),x===A?a++:(a&gt;=5&amp;&amp;(s+=e.N1+(a-5)),A=x,a=1)}f&gt;=5&amp;&amp;(s+=e.N1+(f-5)),a&gt;=5&amp;&amp;(s+=e.N1+(a-5))}return s},n.getPenaltyN2=function(r){const o=r.size;let s=0;for(let f=0;f&lt;o-1;f++)for(let a=0;a&lt;o-1;a++){const h=r.get(f,a)+r.get(f,a+1)+r.get(f+1,a)+r.get(f+1,a+1);(h===4||h===0)&amp;&amp;s++}return s*e.N2},n.getPenaltyN3=function(r){const o=r.size;let s=0,f=0,a=0;for(let h=0;h&lt;o;h++){f=a=0;for(let A=0;A&lt;o;A++)f=f&lt;&lt;1&amp;2047|r.get(h,A),A&gt;=10&amp;&amp;(f===1488||f===93)&amp;&amp;s++,a=a&lt;&lt;1&amp;2047|r.get(A,h),A&gt;=10&amp;&amp;(a===1488||a===93)&amp;&amp;s++}return s*e.N3},n.getPenaltyN4=function(r){let o=0;const s=r.data.length;for(let a=0;a&lt;s;a++)o+=r.data[a];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function i(t,r,o){switch(t){case n.Patterns.PATTERN000:return(r+o)%2===0;case n.Patterns.PATTERN001:return r%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(r+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return r*o%2+r*o%3===0;case n.Patterns.PATTERN110:return(r*o%2+r*o%3)%2===0;case n.Patterns.PATTERN111:return(r*o%3+(r+o)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}n.applyMask=function(r,o){const s=o.size;for(let f=0;f&lt;s;f++)for(let a=0;a&lt;s;a++)o.isReserved(a,f)||o.xor(a,f,i(r,a,f))},n.getBestMask=function(r,o){const s=Object.keys(n.Patterns).length;let f=0,a=1/0;for(let h=0;h&lt;s;h++){o(h),n.applyMask(h,r);const A=n.getPenaltyN1(r)+n.getPenaltyN2(r)+n.getPenaltyN3(r)+n.getPenaltyN4(r);n.applyMask(h,r),A&lt;a&amp;&amp;(a=A,f=h)}return f}})(En);var gt={};const Me=ht,lt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],st=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];gt.getBlocksCount=function(e,i){switch(i){case Me.L:return lt[(e-1)*4+0];case Me.M:return lt[(e-1)*4+1];case Me.Q:return lt[(e-1)*4+2];case Me.H:return lt[(e-1)*4+3];default:return}};gt.getTotalCodewordsCount=function(e,i){switch(i){case Me.L:return st[(e-1)*4+0];case Me.M:return st[(e-1)*4+1];case Me.Q:return st[(e-1)*4+2];case Me.H:return st[(e-1)*4+3];default:return}};var vn={},pt={};const Ke=new Uint8Array(512),at=new Uint8Array(256);(function(){let e=1;for(let i=0;i&lt;255;i++)Ke[i]=e,at[e]=i,e&lt;&lt;=1,e&amp;256&amp;&amp;(e^=285);for(let i=255;i&lt;512;i++)Ke[i]=Ke[i-255]})();pt.log=function(e){if(e&lt;1)throw new Error("log("+e+")");return at[e]};pt.exp=function(e){return Ke[e]};pt.mul=function(e,i){return e===0||i===0?0:Ke[at[e]+at[i]]};(function(n){const e=pt;n.mul=function(t,r){const o=new Uint8Array(t.length+r.length-1);for(let s=0;s&lt;t.length;s++)for(let f=0;f&lt;r.length;f++)o[s+f]^=e.mul(t[s],r[f]);return o},n.mod=function(t,r){let o=new Uint8Array(t);for(;o.length-r.length&gt;=0;){const s=o[0];for(let a=0;a&lt;r.length;a++)o[a]^=e.mul(r[a],s);let f=0;for(;f&lt;o.length&amp;&amp;o[f]===0;)f++;o=o.slice(f)}return o},n.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let o=0;o&lt;t;o++)r=n.mul(r,new Uint8Array([1,e.exp(o)]));return r}})(vn);const Ln=vn;function Rt(n){this.genPoly=void 0,this.degree=n,this.degree&amp;&amp;this.initialize(this.degree)}Rt.prototype.initialize=function(e){this.degree=e,this.genPoly=Ln.generateECPolynomial(this.degree)};Rt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(e.length+this.degree);i.set(e);const t=Ln.mod(i,this.genPoly),r=this.degree-t.length;if(r&gt;0){const o=new Uint8Array(this.degree);return o.set(t,r),o}return t};var Si=Rt,An={},Se={},Ft={};Ft.isValid=function(e){return!isNaN(e)&amp;&amp;e&gt;=1&amp;&amp;e&lt;=40};var Ae={};const Nn="[0-9]+",Ii="[A-Z $%*+\\-./:]+";let Xe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xe=Xe.replace(/u/g,"\\u");const Ri="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xe+`)(?:.|[\r
]))+`;Ae.KANJI=new RegExp(Xe,"g");Ae.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ae.BYTE=new RegExp(Ri,"g");Ae.NUMERIC=new RegExp(Nn,"g");Ae.ALPHANUMERIC=new RegExp(Ii,"g");const Fi=new RegExp("^"+Xe+"$"),Di=new RegExp("^"+Nn+"$"),Oi=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ae.testKanji=function(e){return Fi.test(e)};Ae.testNumeric=function(e){return Di.test(e)};Ae.testAlphanumeric=function(e){return Oi.test(e)};(function(n){const e=Ft,i=Ae;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s&gt;=1&amp;&amp;s&lt;10?o.ccBits[0]:s&lt;27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return i.testNumeric(o)?n.NUMERIC:i.testAlphanumeric(o)?n.ALPHANUMERIC:i.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&amp;&amp;o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&amp;&amp;o.bit&amp;&amp;o.ccBits};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+r)}}n.from=function(o,s){if(n.isValid(o))return o;try{return t(o)}catch{return s}}})(Se);(function(n){const e=ge,i=gt,t=ht,r=Se,o=Ft,s=7973,f=e.getBCHDigit(s);function a(v,x,B){for(let M=1;M&lt;=40;M++)if(x&lt;=n.getCapacity(M,B,v))return M}function h(v,x){return r.getCharCountIndicator(v,x)+4}function A(v,x){let B=0;return v.forEach(function(M){const O=h(M.mode,x);B+=O+M.getBitsLength()}),B}function y(v,x){for(let B=1;B&lt;=40;B++)if(A(v,B)&lt;=n.getCapacity(B,x,r.MIXED))return B}n.from=function(x,B){return o.isValid(x)?parseInt(x,10):B},n.getCapacity=function(x,B,M){if(!o.isValid(x))throw new Error("Invalid QR Code version");typeof M&gt;"u"&amp;&amp;(M=r.BYTE);const O=e.getSymbolTotalCodewords(x),T=i.getTotalCodewordsCount(x,B),k=(O-T)*8;if(M===r.MIXED)return k;const S=k-h(M,x);switch(M){case r.NUMERIC:return Math.floor(S/10*3);case r.ALPHANUMERIC:return Math.floor(S/11*2);case r.KANJI:return Math.floor(S/13);case r.BYTE:default:return Math.floor(S/8)}},n.getBestVersionForData=function(x,B){let M;const O=t.from(B,t.M);if(Array.isArray(x)){if(x.length&gt;1)return y(x,O);if(x.length===0)return 1;M=x[0]}else M=x;return a(M.mode,M.getLength(),O)},n.getEncodedBits=function(x){if(!o.isValid(x)||x&lt;7)throw new Error("Invalid QR Code version");let B=x&lt;&lt;12;for(;e.getBCHDigit(B)-f&gt;=0;)B^=s&lt;&lt;e.getBCHDigit(B)-f;return x&lt;&lt;12|B}})(An);var xn={};const Mt=ge,Bn=1335,$i=21522,rn=Mt.getBCHDigit(Bn);xn.getEncodedBits=function(e,i){const t=e.bit&lt;&lt;3|i;let r=t&lt;&lt;10;for(;Mt.getBCHDigit(r)-rn&gt;=0;)r^=Bn&lt;&lt;Mt.getBCHDigit(r)-rn;return(t&lt;&lt;10|r)^$i};var Mn={};const Ui=Se;function Ve(n){this.mode=Ui.NUMERIC,this.data=n.toString()}Ve.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ve.prototype.getLength=function(){return this.data.length};Ve.prototype.getBitsLength=function(){return Ve.getBitsLength(this.data.length)};Ve.prototype.write=function(e){let i,t,r;for(i=0;i+3&lt;=this.data.length;i+=3)t=this.data.substr(i,3),r=parseInt(t,10),e.put(r,10);const o=this.data.length-i;o&gt;0&amp;&amp;(t=this.data.substr(i),r=parseInt(t,10),e.put(r,o*3+1))};var Hi=Ve;const Vi=Se,kt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ze(n){this.mode=Vi.ALPHANUMERIC,this.data=n}ze.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ze.prototype.getLength=function(){return this.data.length};ze.prototype.getBitsLength=function(){return ze.getBitsLength(this.data.length)};ze.prototype.write=function(e){let i;for(i=0;i+2&lt;=this.data.length;i+=2){let t=kt.indexOf(this.data[i])*45;t+=kt.indexOf(this.data[i+1]),e.put(t,11)}this.data.length%2&amp;&amp;e.put(kt.indexOf(this.data[i]),6)};var zi=ze;const Gi=Se;function Ge(n){this.mode=Gi.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Ge.getBitsLength=function(e){return e*8};Ge.prototype.getLength=function(){return this.data.length};Ge.prototype.getBitsLength=function(){return Ge.getBitsLength(this.data.length)};Ge.prototype.write=function(n){for(let e=0,i=this.data.length;e&lt;i;e++)n.put(this.data[e],8)};var qi=Ge;const Wi=Se,ji=ge;function qe(n){this.mode=Wi.KANJI,this.data=n}qe.getBitsLength=function(e){return e*13};qe.prototype.getLength=function(){return this.data.length};qe.prototype.getBitsLength=function(){return qe.getBitsLength(this.data.length)};qe.prototype.write=function(n){let e;for(e=0;e&lt;this.data.length;e++){let i=ji.toSJIS(this.data[e]);if(i&gt;=33088&amp;&amp;i&lt;=40956)i-=33088;else if(i&gt;=57408&amp;&amp;i&lt;=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);i=(i&gt;&gt;&gt;8&amp;255)*192+(i&amp;255),n.put(i,13)}};var Yi=qe,Tn={exports:{}};(function(n){var e={single_source_shortest_paths:function(i,t,r){var o={},s={};s[t]=0;var f=e.PriorityQueue.make();f.push(t,0);for(var a,h,A,y,v,x,B,M,O;!f.empty();){a=f.pop(),h=a.value,y=a.cost,v=i[h]||{};for(A in v)v.hasOwnProperty(A)&amp;&amp;(x=v[A],B=y+x,M=s[A],O=typeof s[A]&gt;"u",(O||M&gt;B)&amp;&amp;(s[A]=B,f.push(A,B),o[A]=h))}if(typeof r&lt;"u"&amp;&amp;typeof s[r]&gt;"u"){var T=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(T)}return o},extract_shortest_path_from_predecessor_list:function(i,t){for(var r=[],o=t;o;)r.push(o),i[o],o=i[o];return r.reverse(),r},find_path:function(i,t,r){var o=e.single_source_shortest_paths(i,t,r);return e.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(i){var t=e.PriorityQueue,r={},o;i=i||{};for(o in t)t.hasOwnProperty(o)&amp;&amp;(r[o]=t[o]);return r.queue=[],r.sorter=i.sorter||t.default_sorter,r},default_sorter:function(i,t){return i.cost-t.cost},push:function(i,t){var r={value:i,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(Tn);var Ji=Tn.exports;(function(n){const e=Se,i=Hi,t=zi,r=qi,o=Yi,s=Ae,f=ge,a=Ji;function h(T){return unescape(encodeURIComponent(T)).length}function A(T,k,S){const F=[];let G;for(;(G=T.exec(S))!==null;)F.push({data:G[0],index:G.index,mode:k,length:G[0].length});return F}function y(T){const k=A(s.NUMERIC,e.NUMERIC,T),S=A(s.ALPHANUMERIC,e.ALPHANUMERIC,T);let F,G;return f.isKanjiModeEnabled()?(F=A(s.BYTE,e.BYTE,T),G=A(s.KANJI,e.KANJI,T)):(F=A(s.BYTE_KANJI,e.BYTE,T),G=[]),k.concat(S,F,G).sort(function(z,l){return z.index-l.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function v(T,k){switch(k){case e.NUMERIC:return i.getBitsLength(T);case e.ALPHANUMERIC:return t.getBitsLength(T);case e.KANJI:return o.getBitsLength(T);case e.BYTE:return r.getBitsLength(T)}}function x(T){return T.reduce(function(k,S){const F=k.length-1&gt;=0?k[k.length-1]:null;return F&amp;&amp;F.mode===S.mode?(k[k.length-1].data+=S.data,k):(k.push(S),k)},[])}function B(T){const k=[];for(let S=0;S&lt;T.length;S++){const F=T[S];switch(F.mode){case e.NUMERIC:k.push([F,{data:F.data,mode:e.ALPHANUMERIC,length:F.length},{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.ALPHANUMERIC:k.push([F,{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.KANJI:k.push([F,{data:F.data,mode:e.BYTE,length:h(F.data)}]);break;case e.BYTE:k.push([{data:F.data,mode:e.BYTE,length:h(F.data)}])}}return k}function M(T,k){const S={},F={start:{}};let G=["start"];for(let U=0;U&lt;T.length;U++){const z=T[U],l=[];for(let c=0;c&lt;z.length;c++){const u=z[c],m=""+U+c;l.push(m),S[m]={node:u,lastCount:0},F[m]={};for(let p=0;p&lt;G.length;p++){const w=G[p];S[w]&amp;&amp;S[w].node.mode===u.mode?(F[w][m]=v(S[w].lastCount+u.length,u.mode)-v(S[w].lastCount,u.mode),S[w].lastCount+=u.length):(S[w]&amp;&amp;(S[w].lastCount=u.length),F[w][m]=v(u.length,u.mode)+4+e.getCharCountIndicator(u.mode,k))}}G=l}for(let U=0;U&lt;G.length;U++)F[G[U]].end=0;return{map:F,table:S}}function O(T,k){let S;const F=e.getBestModeForData(T);if(S=e.from(k,F),S!==e.BYTE&amp;&amp;S.bit&lt;F.bit)throw new Error('"'+T+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(F));switch(S===e.KANJI&amp;&amp;!f.isKanjiModeEnabled()&amp;&amp;(S=e.BYTE),S){case e.NUMERIC:return new i(T);case e.ALPHANUMERIC:return new t(T);case e.KANJI:return new o(T);case e.BYTE:return new r(T)}}n.fromArray=function(k){return k.reduce(function(S,F){return typeof F=="string"?S.push(O(F,null)):F.data&amp;&amp;S.push(O(F.data,F.mode)),S},[])},n.fromString=function(k,S){const F=y(k,f.isKanjiModeEnabled()),G=B(F),U=M(G,S),z=a.find_path(U.map,"start","end"),l=[];for(let c=1;c&lt;z.length-1;c++)l.push(U.table[z[c]].node);return n.fromArray(x(l))},n.rawSplit=function(k){return n.fromArray(y(k,f.isKanjiModeEnabled()))}})(Mn);const mt=ge,Et=ht,Ki=Mi,Zi=Ti,Qi=bn,Xi=kn,Tt=En,Pt=gt,er=Si,dt=An,tr=xn,nr=Se,vt=Mn;function ir(n,e){const i=n.size,t=Xi.getPositions(e);for(let r=0;r&lt;t.length;r++){const o=t[r][0],s=t[r][1];for(let f=-1;f&lt;=7;f++)if(!(o+f&lt;=-1||i&lt;=o+f))for(let a=-1;a&lt;=7;a++)s+a&lt;=-1||i&lt;=s+a||(f&gt;=0&amp;&amp;f&lt;=6&amp;&amp;(a===0||a===6)||a&gt;=0&amp;&amp;a&lt;=6&amp;&amp;(f===0||f===6)||f&gt;=2&amp;&amp;f&lt;=4&amp;&amp;a&gt;=2&amp;&amp;a&lt;=4?n.set(o+f,s+a,!0,!0):n.set(o+f,s+a,!1,!0))}}function rr(n){const e=n.size;for(let i=8;i&lt;e-8;i++){const t=i%2===0;n.set(i,6,t,!0),n.set(6,i,t,!0)}}function or(n,e){const i=Qi.getPositions(e);for(let t=0;t&lt;i.length;t++){const r=i[t][0],o=i[t][1];for(let s=-2;s&lt;=2;s++)for(let f=-2;f&lt;=2;f++)s===-2||s===2||f===-2||f===2||s===0&amp;&amp;f===0?n.set(r+s,o+f,!0,!0):n.set(r+s,o+f,!1,!0)}}function lr(n,e){const i=n.size,t=dt.getEncodedBits(e);let r,o,s;for(let f=0;f&lt;18;f++)r=Math.floor(f/3),o=f%3+i-8-3,s=(t&gt;&gt;f&amp;1)===1,n.set(r,o,s,!0),n.set(o,r,s,!0)}function Lt(n,e,i){const t=n.size,r=tr.getEncodedBits(e,i);let o,s;for(o=0;o&lt;15;o++)s=(r&gt;&gt;o&amp;1)===1,o&lt;6?n.set(o,8,s,!0):o&lt;8?n.set(o+1,8,s,!0):n.set(t-15+o,8,s,!0),o&lt;8?n.set(8,t-o-1,s,!0):o&lt;9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(t-8,8,1,!0)}function sr(n,e){const i=n.size;let t=-1,r=i-1,o=7,s=0;for(let f=i-1;f&gt;0;f-=2)for(f===6&amp;&amp;f--;;){for(let a=0;a&lt;2;a++)if(!n.isReserved(r,f-a)){let h=!1;s&lt;e.length&amp;&amp;(h=(e[s]&gt;&gt;&gt;o&amp;1)===1),n.set(r,f-a,h),o--,o===-1&amp;&amp;(s++,o=7)}if(r+=t,r&lt;0||i&lt;=r){r-=t,t=-t;break}}}function fr(n,e,i){const t=new Ki;i.forEach(function(a){t.put(a.mode.bit,4),t.put(a.getLength(),nr.getCharCountIndicator(a.mode,n)),a.write(t)});const r=mt.getSymbolTotalCodewords(n),o=Pt.getTotalCodewordsCount(n,e),s=(r-o)*8;for(t.getLengthInBits()+4&lt;=s&amp;&amp;t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);const f=(s-t.getLengthInBits())/8;for(let a=0;a&lt;f;a++)t.put(a%2?17:236,8);return cr(t,n,e)}function cr(n,e,i){const t=mt.getSymbolTotalCodewords(e),r=Pt.getTotalCodewordsCount(e,i),o=t-r,s=Pt.getBlocksCount(e,i),f=t%s,a=s-f,h=Math.floor(t/s),A=Math.floor(o/s),y=A+1,v=h-A,x=new er(v);let B=0;const M=new Array(s),O=new Array(s);let T=0;const k=new Uint8Array(n.buffer);for(let z=0;z&lt;s;z++){const l=z&lt;a?A:y;M[z]=k.slice(B,B+l),O[z]=x.encode(M[z]),B+=l,T=Math.max(T,l)}const S=new Uint8Array(t);let F=0,G,U;for(G=0;G&lt;T;G++)for(U=0;U&lt;s;U++)G&lt;M[U].length&amp;&amp;(S[F++]=M[U][G]);for(G=0;G&lt;v;G++)for(U=0;U&lt;s;U++)S[F++]=O[U][G];return S}function ur(n,e,i,t){let r;if(Array.isArray(n))r=vt.fromArray(n);else if(typeof n=="string"){let h=e;if(!h){const A=vt.rawSplit(n);h=dt.getBestVersionForData(A,i)}r=vt.fromString(n,h||40)}else throw new Error("Invalid data");const o=dt.getBestVersionForData(r,i);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e&lt;o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=fr(e,i,r),f=mt.getSymbolSize(e),a=new Zi(f);return ir(a,e),rr(a),or(a,e),Lt(a,i,0),e&gt;=7&amp;&amp;lr(a,e),sr(a,s),isNaN(t)&amp;&amp;(t=Tt.getBestMask(a,Lt.bind(null,a,i))),Tt.applyMask(t,a),Lt(a,i,t),{modules:a,version:e,errorCorrectionLevel:i,maskPattern:t,segments:r}}yn.create=function(e,i){if(typeof e&gt;"u"||e==="")throw new Error("No input text");let t=Et.M,r,o;return typeof i&lt;"u"&amp;&amp;(t=Et.from(i.errorCorrectionLevel,Et.M),r=dt.from(i.version),o=Tt.from(i.maskPattern),i.toSJISFunc&amp;&amp;mt.setToSJISFunction(i.toSJISFunc)),ur(e,r,t,o)};var Pn={},Dt={};(function(n){function e(i){if(typeof i=="number"&amp;&amp;(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let t=i.slice().replace("#","").split("");if(t.length&lt;3||t.length===5||t.length&gt;8)throw new Error("Invalid hex color: "+i);(t.length===3||t.length===4)&amp;&amp;(t=Array.prototype.concat.apply([],t.map(function(o){return[o,o]}))),t.length===6&amp;&amp;t.push("F","F");const r=parseInt(t.join(""),16);return{r:r&gt;&gt;24&amp;255,g:r&gt;&gt;16&amp;255,b:r&gt;&gt;8&amp;255,a:r&amp;255,hex:"#"+t.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const r=typeof t.margin&gt;"u"||t.margin===null||t.margin&lt;0?4:t.margin,o=t.width&amp;&amp;t.width&gt;=21?t.width:void 0,s=t.scale||4;return{width:o,scale:o?4:s,margin:r,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,r){return r.width&amp;&amp;r.width&gt;=t+r.margin*2?r.width/(t+r.margin*2):r.scale},n.getImageWidth=function(t,r){const o=n.getScale(t,r);return Math.floor((t+r.margin*2)*o)},n.qrToImageData=function(t,r,o){const s=r.modules.size,f=r.modules.data,a=n.getScale(s,o),h=Math.floor((s+o.margin*2)*a),A=o.margin*a,y=[o.color.light,o.color.dark];for(let v=0;v&lt;h;v++)for(let x=0;x&lt;h;x++){let B=(v*h+x)*4,M=o.color.light;if(v&gt;=A&amp;&amp;x&gt;=A&amp;&amp;v&lt;h-A&amp;&amp;x&lt;h-A){const O=Math.floor((v-A)/a),T=Math.floor((x-A)/a);M=y[f[O*s+T]?1:0]}t[B++]=M.r,t[B++]=M.g,t[B++]=M.b,t[B]=M.a}}})(Dt);(function(n){const e=Dt;function i(r,o,s){r.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,s,f){let a=f,h=s;typeof a&gt;"u"&amp;&amp;(!s||!s.getContext)&amp;&amp;(a=s,s=void 0),s||(h=t()),a=e.getOptions(a);const A=e.getImageWidth(o.modules.size,a),y=h.getContext("2d"),v=y.createImageData(A,A);return e.qrToImageData(v.data,o,a),i(y,h,A),y.putImageData(v,0,0),h},n.renderToDataURL=function(o,s,f){let a=f;typeof a&gt;"u"&amp;&amp;(!s||!s.getContext)&amp;&amp;(a=s,s=void 0),a||(a={});const h=n.render(o,s,a),A=a.type||"image/png",y=a.rendererOpts||{};return h.toDataURL(A,y.quality)}})(Pn);var Sn={};const ar=Dt;function on(n,e){const i=n.a/255,t=e+'="'+n.hex+'"';return i&lt;1?t+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':t}function At(n,e,i){let t=n+e;return typeof i&lt;"u"&amp;&amp;(t+=" "+i),t}function dr(n,e,i){let t="",r=0,o=!1,s=0;for(let f=0;f&lt;n.length;f++){const a=Math.floor(f%e),h=Math.floor(f/e);!a&amp;&amp;!o&amp;&amp;(o=!0),n[f]?(s++,f&gt;0&amp;&amp;a&gt;0&amp;&amp;n[f-1]||(t+=o?At("M",a+i,.5+h+i):At("m",r,0),r=0,o=!1),a+1&lt;e&amp;&amp;n[f+1]||(t+=At("h",s),s=0)):r++}return t}Sn.render=function(e,i,t){const r=ar.getOptions(i),o=e.modules.size,s=e.modules.data,f=o+r.margin*2,a=r.color.light.a?"&lt;path "+on(r.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/&gt;':"",h="&lt;path "+on(r.color.dark,"stroke")+' d="'+dr(s,o,r.margin)+'"/&gt;',A='viewBox="0 0 '+f+" "+f+'"',v='&lt;svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+A+' shape-rendering="crispEdges"&gt;'+a+h+`&lt;/svg&gt;
`;return typeof t=="function"&amp;&amp;t(null,v),v};const hr=xi,St=yn,In=Pn,gr=Sn;function Ot(n,e,i,t,r){const o=[].slice.call(arguments,1),s=o.length,f=typeof o[s-1]=="function";if(!f&amp;&amp;!hr())throw new Error("Callback required as last argument");if(f){if(s&lt;2)throw new Error("Too few arguments provided");s===2?(r=i,i=e,e=t=void 0):s===3&amp;&amp;(e.getContext&amp;&amp;typeof r&gt;"u"?(r=t,t=void 0):(r=t,t=i,i=e,e=void 0))}else{if(s&lt;1)throw new Error("Too few arguments provided");return s===1?(i=e,e=t=void 0):s===2&amp;&amp;!e.getContext&amp;&amp;(t=i,i=e,e=void 0),new Promise(function(a,h){try{const A=St.create(i,t);a(n(A,e,t))}catch(A){h(A)}})}try{const a=St.create(i,t);r(null,n(a,e,t))}catch(a){r(a)}}tt.create=St.create;tt.toCanvas=Ot.bind(null,In.render);tt.toDataURL=Ot.bind(null,In.renderToDataURL);tt.toString=Ot.bind(null,function(n,e,i){return gr.render(n,i)});function ln(n){let e,i,t,r,o,s,f,a,h,A,y,v,x,B,M,O,T,k;const S=[mr,pr],F=[];function G(u,m){return u[4]?0:1}y=G(n),v=F[y]=S[y](n);const U=[_r,wr],z=[];function l(u,m){return u[5]?0:1}B=l(n),M=z[B]=U[B](n);let c=n[2].length&gt;0&amp;&amp;sn(n);return{c(){e=P("h3"),e.textContent="Show as QR code",i=H(),t=P("p"),t.textContent="Scan to validate your contributions",r=H(),o=P("img"),f=H(),a=P("p"),a.textContent=`Generate and install wallet pass on your phone, so that you can access your Membership Card
				easily.`,h=H(),A=P("div"),v.c(),x=H(),M.c(),O=H(),c&amp;&amp;c.c(),T=xe(),d(e,"class","text-xl font-semibold mt-14"),d(t,"class","text text-gray-600 mt-3"),ct(o.src,s=n[8])||d(o,"src",s),d(o,"alt","QR Code"),d(o,"class","w-64 h-64"),d(a,"class","text text-gray-600 mt-3 mx-6 text-center"),d(A,"class","flex flex-col w-full mt-6 px-3")},m(u,m){R(u,e,m),R(u,i,m),R(u,t,m),R(u,r,m),R(u,o,m),R(u,f,m),R(u,a,m),R(u,h,m),R(u,A,m),F[y].m(A,null),L(A,x),z[B].m(A,null),R(u,O,m),c&amp;&amp;c.m(u,m),R(u,T,m),k=!0},p(u,m){(!k||m&amp;256&amp;&amp;!ct(o.src,s=u[8]))&amp;&amp;d(o,"src",s);let p=y;y=G(u),y===p?F[y].p(u,m):(Te(),ee(F[p],1,1,()=&gt;{F[p]=null}),Pe(),v=F[y],v?v.p(u,m):(v=F[y]=S[y](u),v.c()),Z(v,1),v.m(A,x));let w=B;B=l(u),B===w?z[B].p(u,m):(Te(),ee(z[w],1,1,()=&gt;{z[w]=null}),Pe(),M=z[B],M?M.p(u,m):(M=z[B]=U[B](u),M.c()),Z(M,1),M.m(A,null)),u[2].length&gt;0?c?c.p(u,m):(c=sn(u),c.c(),c.m(T.parentNode,T)):c&amp;&amp;(c.d(1),c=null)},i(u){k||(Z(v),Z(M),k=!0)},o(u){ee(v),ee(M),k=!1},d(u){u&amp;&amp;(I(e),I(i),I(t),I(r),I(o),I(f),I(a),I(h),I(A),I(O),I(T)),F[y].d(),z[B].d(),c&amp;&amp;c.d(u)}}}function pr(n){let e,i,t,r,o,s,f,a,h,A;return f=new We({props:{show:n[6],size:"small"}}),{c(){e=P("button"),i=P("img"),r=H(),o=P("span"),o.textContent="Generate Google Wallet Pass",s=H(),ae(f.$$.fragment),ct(i.src,t="https://d31vrfdo6b6g17.cloudfront.net/assets/images/google-wallet-pass.svg")||d(i,"src",t),d(i,"alt","Google Wallet Pass"),d(o,"class","text-indigo-500"),d(e,"class","rounded-lg border-2 border-indigo-300 w-full h-14 text-xl flex items-center justify-evenly"),e.disabled=n[6]},m(y,v){R(y,e,v),L(e,i),L(e,r),L(e,o),L(e,s),ce(f,e,null),a=!0,h||(A=se(e,"click",n[9]),h=!0)},p(y,v){const x={};v&amp;64&amp;&amp;(x.show=y[6]),f.$set(x),(!a||v&amp;64)&amp;&amp;(e.disabled=y[6])},i(y){a||(Z(f.$$.fragment,y),a=!0)},o(y){ee(f.$$.fragment,y),a=!1},d(y){y&amp;&amp;I(e),ue(f),h=!1,A()}}}function mr(n){let e,i,t;return{c(){e=P("button"),e.innerHTML='&lt;img src="https://d31vrfdo6b6g17.cloudfront.net/assets/images/google-wallet-pass.svg" alt="Google Wallet Pass"/&gt; &lt;span class="text-indigo-500"&gt;Install Google Wallet Pass&lt;/span&gt;',d(e,"class","rounded-lg border-2 border-indigo-300 w-full h-14 text-xl flex items-center justify-evenly")},m(r,o){R(r,e,o),i||(t=se(e,"click",n[10]),i=!0)},p:Q,i:Q,o:Q,d(r){r&amp;&amp;I(e),i=!1,t()}}}function wr(n){let e,i,t,r,o,s,f,a,h,A;return f=new We({props:{show:n[7],size:"small"}}),{c(){e=P("button"),i=P("img"),r=H(),o=P("span"),o.textContent="Generate Apple Wallet Pass",s=H(),ae(f.$$.fragment),ct(i.src,t="https://d31vrfdo6b6g17.cloudfront.net/assets/images/apple-wallet-pass.svg")||d(i,"src",t),d(i,"alt","Apple Wallet Pass"),d(o,"class","text-indigo-500"),d(e,"class","rounded-lg border-2 border-indigo-300 w-full h-14 text-xl flex items-center justify-evenly mt-2"),e.disabled=n[7]},m(y,v){R(y,e,v),L(e,i),L(e,r),L(e,o),L(e,s),ce(f,e,null),a=!0,h||(A=se(e,"click",n[11]),h=!0)},p(y,v){const x={};v&amp;128&amp;&amp;(x.show=y[7]),f.$set(x),(!a||v&amp;128)&amp;&amp;(e.disabled=y[7])},i(y){a||(Z(f.$$.fragment,y),a=!0)},o(y){ee(f.$$.fragment,y),a=!1},d(y){y&amp;&amp;I(e),ue(f),h=!1,A()}}}function _r(n){let e,i,t;return{c(){e=P("button"),e.innerHTML='&lt;img src="https://d31vrfdo6b6g17.cloudfront.net/assets/images/apple-wallet-pass.svg" alt="Apple Wallet Pass"/&gt; &lt;span class="text-indigo-500"&gt;Install Apple Wallet Pass&lt;/span&gt;',d(e,"class","rounded-lg border-2 border-indigo-300 w-full h-14 text-xl flex items-center justify-evenly mt-2")},m(r,o){R(r,e,o),i||(t=se(e,"click",n[12]),i=!0)},p:Q,i:Q,o:Q,d(r){r&amp;&amp;I(e),i=!1,t()}}}function sn(n){let e,i;return{c(){e=P("p"),i=re(n[2]),d(e,"class","error-message")},m(t,r){R(t,e,r),L(e,i)},p(t,r){r&amp;4&amp;&amp;Le(i,t[2])},d(t){t&amp;&amp;I(e)}}}function yr(n){let e,i,t,r,o,s=n[1]&amp;&amp;n[0]&amp;&amp;ln(n);return r=new We({props:{show:n[3]}}),{c(){e=P("div"),i=P("div"),s&amp;&amp;s.c(),t=H(),ae(r.$$.fragment),d(i,"class","flex flex-col items-center")},m(f,a){R(f,e,a),L(e,i),s&amp;&amp;s.m(i,null),L(e,t),ce(r,e,null),o=!0},p(f,[a]){f[1]&amp;&amp;f[0]?s?(s.p(f,a),a&amp;3&amp;&amp;Z(s,1)):(s=ln(f),s.c(),Z(s,1),s.m(i,null)):s&amp;&amp;(Te(),ee(s,1,1,()=&gt;{s=null}),Pe());const h={};a&amp;8&amp;&amp;(h.show=f[3]),r.$set(h)},i(f){o||(Z(s),Z(r.$$.fragment,f),o=!0)},o(f){ee(s),ee(r.$$.fragment,f),o=!1},d(f){f&amp;&amp;I(e),s&amp;&amp;s.d(),ue(r)}}}function Cr(n,e,i){let t,r,o="",s=!0,f="",a="",h=!1,A=!1,y=null;et.data.subscribe(async T=&gt;{if(!T.token)return;console.log(T.token);const k=T.token;i(1,r=k.ownerAddress),i(0,t=k.tokenId),await v();const S=`https://sepolia.basescan.org/nft/${ai.address}/${t}`;i(8,y=await tt.toDataURL(S,{width:512,height:512})),i(3,s=!1)});async function v(T,k=0){try{const S=await Je.getWalletPasses(t);if(i(4,f=S.google),i(5,a=S.apple),T){if(T==="google"&amp;&amp;f){i(6,h=!1);return}if(T==="apple"&amp;&amp;a){i(7,A=!1);return}k&gt;0&amp;&amp;setTimeout(()=&gt;v(T,k-1),5e3)}}catch{k&gt;0&amp;&amp;setTimeout(()=&gt;v(T,k-1),5e3)}}async function x(){try{i(6,h=!0),await Je.generateWalletPass("google",t),setTimeout(()=&gt;v("google",5),5e3)}catch(T){console.log(T,"Failed to generate Google Wallet Pass"),i(2,o="Failed to generate Google Wallet Pass")}}function B(){window.open(f,"_blank")}async function M(){try{i(7,A=!0),await Je.generateWalletPass("apple",t),setTimeout(()=&gt;v("apple",5),5e3)}catch(T){console.log(T,"Failed to generate Apple Wallet Pass"),i(2,o="Failed to generate Apple Wallet Pass")}}function O(){window.open(a,"_blank")}return[t,r,o,s,f,a,h,A,y,x,B,M,O]}class br extends ke{constructor(e){super(),be(this,e,Cr,yr,ye,{})}}function fn(n){let e,i,t,r,o,s=n[2]&gt;=0&amp;&amp;cn(n);return{c(){e=P("h3"),e.textContent="Vote for Charity Fund Allocation",i=H(),t=P("p"),t.textContent="Vote on how the charity funds should be allocated. Voting weight is based on your points (ERC-20 token holdings)",r=H(),s&amp;&amp;s.c(),o=xe(),d(e,"class","text-xl font-semibold mt-14"),d(t,"class","text text-gray-600 mt-3 text-center")},m(f,a){R(f,e,a),R(f,i,a),R(f,t,a),R(f,r,a),s&amp;&amp;s.m(f,a),R(f,o,a)},p(f,a){f[2]&gt;=0?s?s.p(f,a):(s=cn(f),s.c(),s.m(o.parentNode,o)):s&amp;&amp;(s.d(1),s=null)},d(f){f&amp;&amp;(I(e),I(i),I(t),I(r),I(o)),s&amp;&amp;s.d(f)}}}function cn(n){let e;function i(o,s){return o[2]&gt;=1?Er:kr}let t=i(n),r=t(n);return{c(){r.c(),e=xe()},m(o,s){r.m(o,s),R(o,e,s)},p(o,s){t===(t=i(o))&amp;&amp;r?r.p(o,s):(r.d(1),r=t(o),r&amp;&amp;(r.c(),r.m(e.parentNode,e)))},d(o){o&amp;&amp;I(e),r.d(o)}}}function kr(n){let e;return{c(){e=P("p"),e.textContent="You don't have points yet. Donate to get some.",d(e,"class","text text-gray-600 mt-3 text-center")},m(i,t){R(i,e,t)},p:Q,d(i){i&amp;&amp;I(e)}}}function Er(n){let e,i,t=n[2]/Math.pow(10,18)+"",r,o,s,f,a,h,A;return{c(){e=P("p"),i=re("You currently have "),r=re(t),o=re(" points."),s=H(),f=P("div"),a=P("button"),a.textContent="Vote here",d(e,"class","text text-gray-600 mt-3 text-center"),d(a,"type","button"),d(a,"class","w-full py-4 bg-indigo-500 hover:bg-indigo-700 text-white rounded-xl text-xl"),d(f,"class","w-full mt-5")},m(y,v){R(y,e,v),L(e,i),L(e,r),L(e,o),R(y,s,v),R(y,f,v),L(f,a),h||(A=se(a,"click",Lr),h=!0)},p(y,v){v&amp;4&amp;&amp;t!==(t=y[2]/Math.pow(10,18)+"")&amp;&amp;Le(r,t)},d(y){y&amp;&amp;(I(e),I(s),I(f)),h=!1,A()}}}function vr(n){let e,i,t,r,o,s=n[0]&amp;&amp;fn(n);return r=new We({props:{show:n[1]}}),{c(){e=P("div"),i=P("div"),s&amp;&amp;s.c(),t=H(),ae(r.$$.fragment),d(i,"class","flex flex-col items-center w-full px-6")},m(f,a){R(f,e,a),L(e,i),s&amp;&amp;s.m(i,null),L(e,t),ce(r,e,null),o=!0},p(f,[a]){f[0]?s?s.p(f,a):(s=fn(f),s.c(),s.m(i,null)):s&amp;&amp;(s.d(1),s=null);const h={};a&amp;2&amp;&amp;(h.show=f[1]),r.$set(h)},i(f){o||(Z(r.$$.fragment,f),o=!0)},o(f){ee(r.$$.fragment,f),o=!1},d(f){f&amp;&amp;I(e),s&amp;&amp;s.d(),ue(r)}}}function Lr(){window.open("https://testnet.snapshot.org/#/charityconnect.eth","_blank")}function Ar(n,e,i){let t,r=!0,o=-1;return et.data.subscribe(async s=&gt;{s.token&amp;&amp;(i(0,t=s.token),s.token.ownerAddress,i(2,o=s.token.points),i(1,r=!1))}),[t,r,o]}class Nr extends ke{constructor(e){super(),be(this,e,Ar,vr,ye,{})}}function xr(n){let e,i,t,r,o,s;var f=n[0];function a(h,A){return{}}return f&amp;&amp;(t=zt(f,a())),{c(){e=P("div"),i=P("div"),t&amp;&amp;ae(t.$$.fragment),d(i,"id","token-container")},m(h,A){R(h,e,A),L(e,i),t&amp;&amp;ce(t,i,null),r=!0,o||(s=se(window,"hashchange",n[1]),o=!0)},p(h,[A]){if(A&amp;1&amp;&amp;f!==(f=h[0])){if(t){Te();const y=t;ee(y.$$.fragment,1,0,()=&gt;{ue(y,1)}),Pe()}f?(t=zt(f,a()),ae(t.$$.fragment),Z(t.$$.fragment,1),ce(t,i,null)):t=null}},i(h){r||(t&amp;&amp;Z(t.$$.fragment,h),r=!0)},o(h){t&amp;&amp;ee(t.$$.fragment,h),r=!1},d(h){h&amp;&amp;I(e),t&amp;&amp;ue(t),o=!1,s()}}}function Br(n,e,i){let t,r=!1;const o={"#donateToCharity":yi,"#quickDonate":Ni,"#walletPass":br,"#vote":Nr};let s;function f(){i(0,s=o[t.level==0?"#adopt":document.location.hash]||Qn)}return web3.tokens.dataChanged=async(a,h,A)=&gt;{r||(et.setToken(h.currentInstance),t=h.currentInstance,r=!0,f())},[s,f]}class Mr extends ke{constructor(e){super(),be(this,e,Br,xr,ye,{})}}new Mr({target:document.body});


//]]&gt;</script>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com"/>
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>


<style>
					/* <![CDATA[ */
					@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap');

/** {*/
	/*font-family: "Rubik", sans-serif;*/
	/*box-sizing: border-box;*/
/*}*/

/*body {*/
    /*color: #0B0B0B;*/
/*}*/

/*h1 {*/
	/*font-size: 22px;*/
/*}*/

/*h2 {*/
	/*font-size: 20px;*/
/*}*/

/*h3 {*/
	/*font-size: 18px;*/
/*}*/

/*h5 {*/
	/*font-size: 16px;*/
	/*margin-bottom: 12px;*/
/*}*/

/*p.light {*/
	/*color: #545454;*/
/*}*/

/*.loader-modal {*/
	/*position: absolute;*/
	/*left: 0;*/
	/*top: 0;*/
	/*width: 100%;*/
	/*height: 100%;*/
/*}*/

/*.btn {*/
	/*display: flex;*/
	/*align-items: center;*/
	/*gap: 6px;*/
	/*border-radius: 10px;*/
	/*height: 36px;*/
	/*min-width: 50px;*/
	/*background: #EEEEEE;*/
	/*color: #0B0B0B;*/
	/*border: none;*/
	/*cursor: pointer;*/
/*}*/

/*.btn-primary {*/
	/*color: #fff;*/
	/*background: linear-gradient(234.79deg, #001AFF 37.73%, #4F95FF 118.69%), #8A9CB8;*/
/*}*/

/*.btn-primary:hover {*/
	/*background: linear-gradient(214.82deg, #001AFF -21.14%, #4F95FF 89.22%);*/
/*}*/

/*.btn-primary:disabled {*/
	/*background: linear-gradient(0deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)), linear-gradient(234.79deg, #001AFF 37.73%, #4F95FF 118.69%) !important;*/
/*}*/

/*[> TODO: Secondary button hover & disable states are not distinct enough <]*/
/*.btn-secondary {*/
	/*border: 2px solid #001AFF;*/
	/*background: #fff;*/
	/*color: #001AFF;*/
/*}*/

/*.btn-secondary:hover {*/
	/*border-color: #4F95FF;*/
	/*color: #4F95FF !important;*/
/*}*/

/*.btn-secondary:disabled {*/
	/*border-color: #4F95FF !important;*/
	/*color: #4F95FF !important;*/
	/*pointer-events: auto !important;*/
/*}*/

/*.section-gap {*/
	/*margin-top: 20px*/
/*}*/

/*.wallet-pass {*/
	/*display: flex;*/
	/*gap: 20px;*/
/*}*/

/*.error-message {*/
	/*color: red;*/
/*}*/

					/* ]]> */
				</style></ts:viewContent>

        <ts:card exclude="dummyForcePointsToLoadAlwaysFalse" name="QuickDonate" origins="Token" type="action">
			<ts:label>
				<ts:string xml:lang="en">Quick Donate</ts:string>
			</ts:label>
            <ts:transaction>
                <ethereum:transaction as="uint" contract="DonationManager" function="quickDonate">
                    <ts:data>
                        <ts:uint256 ref="tokenId"/>
                    </ts:data>
                    <ethereum:value>1005000000000000</ethereum:value>
                </ethereum:transaction>
            </ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="quickDonate" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card name="DonateToCharity" origins="Token" type="action">
			<ts:label>
				<ts:string xml:lang="en">Donate to Charity</ts:string>
			</ts:label>
            <ts:transaction>
                <ethereum:transaction as="uint" contract="DonationManager" function="donateETH">
                    <ts:data>
                        <ts:uint256 ref="tokenId"/>
                        <ts:string local-ref="charity"/>
                    </ts:data>
                    <ethereum:value local-ref="amount"/>
                </ethereum:transaction>
            </ts:transaction>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="donateToCharity" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

		<ts:card name="WalletPass" origins="Token" type="action">
			<ts:label>
				<ts:string xml:lang="en">Show as QR</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="walletPass" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

        <ts:card name="Vote" origins="Token" type="action">
            <ts:label>
                <ts:string xml:lang="en">Vote for Charity Fund Allocation</ts:string>
            </ts:label>
            <ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="vote" xml:lang="en">
                <ts:viewContent name="common"/>
            </ts:view>
		</ts:card>

        <ts:card name="Leaderboard" origins="Token" type="action">
            <ts:label>
                <ts:string xml:lang="en">Leaderboard</ts:string>
            </ts:label>
            
            <ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="vote" xml:lang="en">
                <ts:viewContent name="common"/>
            </ts:view>
		</ts:card>

        
        <ts:card name="Foo" origins="Points" type="action">
			<ts:label>
				<ts:string xml:lang="en">Foo action</ts:string>
			</ts:label>
			<ts:view xmlns="http://www.w3.org/1999/xhtml" uiButton="false" urlFragment="vote" xml:lang="en">
				<ts:viewContent name="common"/>
			</ts:view>
		</ts:card>

	</ts:cards>

    
	<ts:attribute name="points">
		<ts:type>
			<ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax>
		</ts:type>
		<ts:label>
			<ts:string xml:lang="en">Points</ts:string>
		</ts:label>
		<ts:origins>
			<ethereum:call as="uint" contract="Points" function="balanceOf">
				<ts:data>
					<ts:address ref="ownerAddress"/>
				</ts:data>
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

	<ts:attribute name="charityList">
		<ts:type>
			<ts:syntax>1.3.6.1.4.1.1466.115.121.1.15</ts:syntax>
		</ts:type>
		<ts:label>
			<ts:string xml:lang="en">Charity List</ts:string>
		</ts:label>
		<ts:origins>
            <ethereum:call as="abi" contract="DonationManager" function="getAllCharityNames">
			</ethereum:call>
		</ts:origins>
	</ts:attribute>

</ts:token>